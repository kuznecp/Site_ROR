  [1m[35m (23.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "laba12_test"[0m
  [1m[35m (201.8ms)[0m  [1m[35mCREATE DATABASE "laba12_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "password_digest" character varying, "last_login" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211211205636)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2021-12-11 21:31:38.413313"], ["updated_at", "2021-12-11 21:31:38.413313"]]
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "8a0c75a730b644fae1c32cc9aea2c317777d5aa4"], ["created_at", "2021-12-11 21:31:38.433040"], ["updated_at", "2021-12-11 21:31:38.433040"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";
INSERT INTO "users" ("id", "name", "password_digest", "last_login", "created_at", "updated_at") VALUES (980190962, 'first', '1234', '2021-12-11 23:56:36', '2021-12-11 21:31:38.542313', '2021-12-11 21:31:38.542313'), (298486374, 'second', '2345', '2021-12-11 23:56:36', '2021-12-11 21:31:38.542313', '2021-12-11 21:31:38.542313')[0m
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2021-12-12 00:31:38 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"last_login"=>"2021-12-11 23:56:36 UTC", "name"=>"first", "password_digest"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 16ms (ActiveRecord: 0.3ms | Allocations: 3751)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2021-12-12 00:31:39 +0300
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  Rendered users/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 1553)
  Rendered layout layouts/application.html.erb (Duration: 365.8ms | Allocations: 138563)
Completed 200 OK in 379ms (Views: 371.5ms | ActiveRecord: 0.5ms | Allocations: 141835)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2021-12-12 00:31:39 +0300
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 442)
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2021-12-12 00:31:39 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 1.9ms | Allocations: 416)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2021-12-12 00:31:39 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 1831.4ms | Allocations: 1337263)
  Rendered users/new.html.erb within layouts/application (Duration: 1833.7ms | Allocations: 1337565)
  Rendered layout layouts/application.html.erb (Duration: 1836.4ms | Allocations: 1340753)
Completed 200 OK in 1839ms (Views: 1837.3ms | ActiveRecord: 0.0ms | Allocations: 1341216)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2021-12-12 00:31:41 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 479)
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
SessionTest: test_user_with_correct_credentials_will_see_the_root
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "non"], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-11 21:31:41.347948"], ["created_at", "2021-12-11 21:31:41.348830"], ["updated_at", "2021-12-11 21:31:41.348830"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2021-12-12 00:31:41 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"login"=>"non", "password_digest"=>"[FILTERED]", "last_login"=>"2021-12-11 21:31:41 UTC"}}
[31mUnpermitted parameter: :login. Context: {  }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", nil], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-11 21:31:41"], ["created_at", "2021-12-11 21:31:41.358812"], ["updated_at", "2021-12-11 21:31:41.358812"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190964
Completed 302 Found in 7ms (ActiveRecord: 1.4ms | Allocations: 1323)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
SessionTest: test_unauthorized_user_will_be_redirected_to_login_page
--------------------------------------------------------------------
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-12 00:31:41 +0300
Processing by SequenceController#input as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 701)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SessionTest: test_user_can_logout
---------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "aperiam"], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-11 21:31:41.381899"], ["created_at", "2021-12-11 21:31:41.382532"], ["updated_at", "2021-12-11 21:31:41.382532"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2021-12-12 00:31:41 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"login"=>"aperiam", "password_digest"=>"[FILTERED]", "last_login"=>"2021-12-11 21:31:41 UTC"}}
[31mUnpermitted parameter: :login. Context: {  }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", nil], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-11 21:31:41"], ["created_at", "2021-12-11 21:31:41.390658"], ["updated_at", "2021-12-11 21:31:41.390658"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190966
Completed 302 Found in 6ms (ActiveRecord: 1.4ms | Allocations: 914)
Started GET "/session/logout" for 127.0.0.1 at 2021-12-12 00:31:41 +0300
Processing by SessionController#logout as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 842)
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-12 00:31:41 +0300
Processing by SequenceController#input as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 485)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
SessionTest: test_user_with_incorrect_credentials_will_be_redirected_to_login_page
----------------------------------------------------------------------------------
Started POST "/session/create" for 127.0.0.1 at 2021-12-12 00:31:41 +0300
Processing by SessionController#create as HTML
  Parameters: {"login"=>"rem", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 601)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
SessionControllerTest: test_should_get_login
--------------------------------------------
Started GET "/session/login" for 127.0.0.1 at 2021-12-12 00:31:41 +0300
Processing by SessionController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering session/login.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered session/login.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1843)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 5092)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.4ms | Allocations: 6030)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
SequenceControllerTest: test_should_get_input
---------------------------------------------
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-12 00:31:41 +0300
Processing by SequenceController#input as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 485)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SequenceControllerTest: test_should_get_output
----------------------------------------------
Started GET "/sequence/output" for 127.0.0.1 at 2021-12-12 00:31:41 +0300
Processing by SequenceController#output as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 415)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "users";
INSERT INTO "users" ("id", "name", "password_digest", "last_login", "created_at", "updated_at") VALUES (980190962, 'first', '1234', '2021-12-11 23:56:36', '2021-12-11 21:32:43.841124', '2021-12-11 21:32:43.841124'), (298486374, 'second', '2345', '2021-12-11 23:56:36', '2021-12-11 21:32:43.841124', '2021-12-11 21:32:43.841124')[0m
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
SessionControllerTest: test_should_get_login
--------------------------------------------
Started GET "/session/login" for 127.0.0.1 at 2021-12-12 00:32:43 +0300
Processing by SessionController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering session/login.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered session/login.html.erb within layouts/application (Duration: 205.9ms | Allocations: 341185)
  Rendered layout layouts/application.html.erb (Duration: 274.7ms | Allocations: 403579)
Completed 200 OK in 288ms (Views: 277.9ms | ActiveRecord: 0.7ms | Allocations: 409409)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2021-12-12 00:32:44 +0300
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  Rendered users/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1290)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 4539)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.4ms | Allocations: 5631)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2021-12-12 00:32:44 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"last_login"=>"2021-12-11 23:56:36 UTC", "name"=>"first", "password_digest"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 672)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2021-12-12 00:32:44 +0300
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 416)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2021-12-12 00:32:44 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 5.3ms | Allocations: 1854)
  Rendered users/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2184)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 5359)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 5826)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2021-12-12 00:32:44 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 479)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2021-12-12 00:32:44 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 416)
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SessionTest: test_user_can_logout
---------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "perspiciatis"], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-11 21:32:44.476388"], ["created_at", "2021-12-11 21:32:44.477097"], ["updated_at", "2021-12-11 21:32:44.477097"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2021-12-12 00:32:44 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"login"=>"perspiciatis", "password_digest"=>"[FILTERED]", "last_login"=>"2021-12-11 21:32:44 UTC"}}
[31mUnpermitted parameter: :login. Context: {  }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", nil], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-11 21:32:44"], ["created_at", "2021-12-11 21:32:44.485321"], ["updated_at", "2021-12-11 21:32:44.485321"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190964
Completed 302 Found in 7ms (ActiveRecord: 1.3ms | Allocations: 1321)
Started GET "/session/logout" for 127.0.0.1 at 2021-12-12 00:32:44 +0300
Processing by SessionController#logout as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 613)
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-12 00:32:44 +0300
Processing by SequenceController#input as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 763)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
SessionTest: test_user_with_correct_credentials_will_see_the_root
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "ratione"], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-11 21:32:44.509698"], ["created_at", "2021-12-11 21:32:44.510211"], ["updated_at", "2021-12-11 21:32:44.510211"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2021-12-12 00:32:44 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"login"=>"ratione", "password_digest"=>"[FILTERED]", "last_login"=>"2021-12-11 21:32:44 UTC"}}
[31mUnpermitted parameter: :login. Context: {  }[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", nil], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-11 21:32:44"], ["created_at", "2021-12-11 21:32:44.517193"], ["updated_at", "2021-12-11 21:32:44.517193"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190966
Completed 302 Found in 7ms (ActiveRecord: 1.6ms | Allocations: 914)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
SessionTest: test_user_with_incorrect_credentials_will_be_redirected_to_login_page
----------------------------------------------------------------------------------
Started POST "/session/create" for 127.0.0.1 at 2021-12-12 00:32:44 +0300
Processing by SessionController#create as HTML
  Parameters: {"login"=>"unde", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 601)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
SessionTest: test_unauthorized_user_will_be_redirected_to_login_page
--------------------------------------------------------------------
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-12 00:32:44 +0300
Processing by SequenceController#input as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 415)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (2.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[31mDELETE FROM "users";
INSERT INTO "users" ("id", "name", "password_digest", "last_login", "created_at", "updated_at") VALUES (980190962, 'first', '1234', '2021-12-11 23:56:36', '2021-12-13 20:33:33.713396', '2021-12-13 20:33:33.713396'), (298486374, 'second', '2345', '2021-12-11 23:56:36', '2021-12-13 20:33:33.713396', '2021-12-13 20:33:33.713396')[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
SessionTest: test_unauthorized_user_will_be_redirected_to_login_page
--------------------------------------------------------------------
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-13 23:33:33 +0300
Processing by SequenceController#input as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 18ms (ActiveRecord: 1.5ms | Allocations: 3979)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
SessionTest: test_user_with_correct_credentials_will_see_the_root
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "corrupti"], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-13 20:33:34.376431"], ["created_at", "2021-12-13 20:33:34.385003"], ["updated_at", "2021-12-13 20:33:34.385003"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2021-12-13 23:33:34 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"login"=>"corrupti", "password_digest"=>"[FILTERED]", "last_login"=>"2021-12-13 20:33:34 UTC"}}
[31mUnpermitted parameter: :login. Context: {  }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", nil], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-13 20:33:34"], ["created_at", "2021-12-13 20:33:34.408482"], ["updated_at", "2021-12-13 20:33:34.408482"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190964
Completed 302 Found in 9ms (ActiveRecord: 1.5ms | Allocations: 1485)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
SessionTest: test_user_with_incorrect_credentials_will_be_redirected_to_login_page
----------------------------------------------------------------------------------
Started POST "/session/create" for 127.0.0.1 at 2021-12-13 23:33:34 +0300
Processing by SessionController#create as HTML
  Parameters: {"login"=>"et", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 886)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SessionTest: test_user_can_logout
---------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "ad"], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-13 20:33:34.440731"], ["created_at", "2021-12-13 20:33:34.441526"], ["updated_at", "2021-12-13 20:33:34.441526"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2021-12-13 23:33:34 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"login"=>"ad", "password_digest"=>"[FILTERED]", "last_login"=>"2021-12-13 20:33:34 UTC"}}
[31mUnpermitted parameter: :login. Context: {  }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", nil], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-13 20:33:34"], ["created_at", "2021-12-13 20:33:34.447773"], ["updated_at", "2021-12-13 20:33:34.447773"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190966
Completed 302 Found in 6ms (ActiveRecord: 1.3ms | Allocations: 910)
Started GET "/session/logout" for 127.0.0.1 at 2021-12-13 23:33:34 +0300
Processing by SessionController#logout as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 543)
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-13 23:33:34 +0300
Processing by SequenceController#input as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 499)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
SessionControllerTest: test_should_get_login
--------------------------------------------
Started GET "/session/login" for 127.0.0.1 at 2021-12-13 23:33:34 +0300
Processing by SessionController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering session/login.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered session/login.html.erb within layouts/application (Duration: 13.8ms | Allocations: 3026)
  Rendered layout layouts/application.html.erb (Duration: 117.4ms | Allocations: 65669)
Completed 200 OK in 127ms (Views: 122.0ms | ActiveRecord: 0.6ms | Allocations: 68845)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2021-12-13 23:33:34 +0300
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  Rendered users/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1194)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 4443)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.4ms | Allocations: 5425)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2021-12-13 23:33:34 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 6.0ms | Allocations: 1795)
  Rendered users/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 2094)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 5268)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 5690)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2021-12-13 23:33:34 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 479)
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2021-12-13 23:33:34 +0300
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 416)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2021-12-13 23:33:34 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 416)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2021-12-13 23:33:34 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"last_login"=>"2021-12-11 23:56:36 UTC", "name"=>"first", "password_digest"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 416)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "users";
INSERT INTO "users" ("id", "name", "password_digest", "last_login", "created_at", "updated_at") VALUES (980190962, 'first', '1234', '2021-12-11 23:56:36', '2021-12-14 07:31:18.083462', '2021-12-14 07:31:18.083462'), (298486374, 'second', '2345', '2021-12-11 23:56:36', '2021-12-14 07:31:18.083462', '2021-12-14 07:31:18.083462')[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2021-12-14 10:31:18 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 14ms (ActiveRecord: 0.3ms | Allocations: 3735)
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2021-12-14 10:31:18 +0300
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  Rendered users/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1613)
  Rendered layout layouts/application.html.erb (Duration: 113.4ms | Allocations: 64292)
Completed 200 OK in 125ms (Views: 118.2ms | ActiveRecord: 0.6ms | Allocations: 67566)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2021-12-14 10:31:18 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 320.2ms | Allocations: 339842)
  Rendered users/new.html.erb within layouts/application (Duration: 322.0ms | Allocations: 340141)
  Rendered layout layouts/application.html.erb (Duration: 324.1ms | Allocations: 343329)
Completed 200 OK in 325ms (Views: 324.7ms | ActiveRecord: 0.0ms | Allocations: 343801)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2021-12-14 10:31:18 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"last_login"=>"2021-12-11 23:56:36 UTC", "name"=>"first", "password_digest"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 480)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2021-12-14 10:31:18 +0300
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 416)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2021-12-14 10:31:18 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 416)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
SessionControllerTest: test_should_get_login
--------------------------------------------
Started GET "/session/login" for 127.0.0.1 at 2021-12-14 10:31:18 +0300
Processing by SessionController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering session/login.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered session/login.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1591)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 4834)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.5ms | Allocations: 5869)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
SessionTest: test_user_with_correct_credentials_will_see_the_root
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "dolorem"], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-14 07:31:18.952134"], ["created_at", "2021-12-14 07:31:18.952872"], ["updated_at", "2021-12-14 07:31:18.952872"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2021-12-14 10:31:18 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"login"=>"dolorem", "password"=>"[FILTERED]", "last_login"=>"2021-12-14 07:31:18 UTC"}}
[31mUnpermitted parameter: :login. Context: {  }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", nil], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-14 07:31:18"], ["created_at", "2021-12-14 07:31:18.961738"], ["updated_at", "2021-12-14 07:31:18.961738"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/session/login
Completed 302 Found in 7ms (ActiveRecord: 1.0ms | Allocations: 1306)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
SessionTest: test_user_with_incorrect_credentials_will_be_redirected_to_login_page
----------------------------------------------------------------------------------
Started POST "/session/create" for 127.0.0.1 at 2021-12-14 10:31:18 +0300
Processing by SessionController#create as HTML
  Parameters: {"login"=>"sed", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 671)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
SessionTest: test_unauthorized_user_will_be_redirected_to_login_page
--------------------------------------------------------------------
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-14 10:31:18 +0300
Processing by SequenceController#input as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 701)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SessionTest: test_user_can_logout
---------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "eaque"], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-14 07:31:18.991169"], ["created_at", "2021-12-14 07:31:18.991683"], ["updated_at", "2021-12-14 07:31:18.991683"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2021-12-14 10:31:18 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"login"=>"eaque", "password_digest"=>"[FILTERED]", "last_login"=>"2021-12-14 07:31:18 UTC"}}
[31mUnpermitted parameters: :login, :password_digest. Context: {  }[0m
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 3.1ms | Allocations: 1603)
  Rendered users/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1674)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 4884)
Completed 422 Unprocessable Entity in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms | Allocations: 5618)
Started GET "/session/logout" for 127.0.0.1 at 2021-12-14 10:31:19 +0300
Processing by SessionController#logout as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 418)
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-14 10:31:19 +0300
Processing by SequenceController#input as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 516)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "users";
INSERT INTO "users" ("id", "name", "password_digest", "last_login", "created_at", "updated_at") VALUES (980190962, 'first', '1234', '2021-12-11 23:56:36', '2021-12-14 07:32:29.947980', '2021-12-14 07:32:29.947980'), (298486374, 'second', '2345', '2021-12-11 23:56:36', '2021-12-14 07:32:29.947980', '2021-12-14 07:32:29.947980')[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
SessionTest: test_unauthorized_user_will_be_redirected_to_login_page
--------------------------------------------------------------------
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-14 10:32:30 +0300
Processing by SequenceController#input as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 0.6ms | Allocations: 3979)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
SessionTest: test_user_with_correct_credentials_will_see_the_root
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "enim"], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-14 07:32:30.392868"], ["created_at", "2021-12-14 07:32:30.401914"], ["updated_at", "2021-12-14 07:32:30.401914"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2021-12-14 10:32:30 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"login"=>"enim", "password"=>"[FILTERED]", "last_login"=>"2021-12-14 07:32:30 UTC"}}
[31mUnpermitted parameter: :login. Context: {  }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", nil], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-14 07:32:30"], ["created_at", "2021-12-14 07:32:30.414244"], ["updated_at", "2021-12-14 07:32:30.414244"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/session/login
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 1450)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
SessionTest: test_user_with_incorrect_credentials_will_be_redirected_to_login_page
----------------------------------------------------------------------------------
Started POST "/session/create" for 127.0.0.1 at 2021-12-14 10:32:30 +0300
Processing by SessionController#create as HTML
  Parameters: {"login"=>"non", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 886)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SessionTest: test_user_can_logout
---------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "doloremque"], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-14 07:32:30.434252"], ["created_at", "2021-12-14 07:32:30.434787"], ["updated_at", "2021-12-14 07:32:30.434787"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2021-12-14 10:32:30 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"login"=>"doloremque", "password_digest"=>"[FILTERED]", "last_login"=>"2021-12-14 07:32:30 UTC"}}
[31mUnpermitted parameters: :login, :password_digest. Context: {  }[0m
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 10.2ms | Allocations: 3407)
  Rendered users/new.html.erb within layouts/application (Duration: 12.0ms | Allocations: 4066)
  Rendered layout layouts/application.html.erb (Duration: 77.5ms | Allocations: 66715)
Completed 422 Unprocessable Entity in 85ms (Views: 83.8ms | ActiveRecord: 0.0ms | Allocations: 70282)
Started GET "/session/logout" for 127.0.0.1 at 2021-12-14 10:32:30 +0300
Processing by SessionController#logout as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 600)
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-14 10:32:30 +0300
Processing by SequenceController#input as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 523)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2021-12-14 10:32:30 +0300
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  Rendered users/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 982)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 4149)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.4ms | Allocations: 4586)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2021-12-14 10:32:30 +0300
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 416)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2021-12-14 10:32:30 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 416)
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2021-12-14 10:32:30 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.6ms | Allocations: 416)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2021-12-14 10:32:30 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"last_login"=>"2021-12-11 23:56:36 UTC", "name"=>"first", "password_digest"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 416)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2021-12-14 10:32:30 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 1.9ms | Allocations: 606)
  Rendered users/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 666)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 3776)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms | Allocations: 4079)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
SessionControllerTest: test_should_get_login
--------------------------------------------
Started GET "/session/login" for 127.0.0.1 at 2021-12-14 10:32:30 +0300
Processing by SessionController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering session/login.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered session/login.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1575)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 4818)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.5ms | Allocations: 5714)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "users";
INSERT INTO "users" ("id", "name", "password_digest", "last_login", "created_at", "updated_at") VALUES (980190962, 'first', '1234', '2021-12-11 23:56:36', '2021-12-14 07:32:44.647823', '2021-12-14 07:32:44.647823'), (298486374, 'second', '2345', '2021-12-11 23:56:36', '2021-12-14 07:32:44.647823', '2021-12-14 07:32:44.647823')[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
SessionControllerTest: test_should_get_login
--------------------------------------------
Started GET "/session/login" for 127.0.0.1 at 2021-12-14 10:32:44 +0300
Processing by SessionController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering session/login.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered session/login.html.erb within layouts/application (Duration: 200.3ms | Allocations: 341202)
  Rendered layout layouts/application.html.erb (Duration: 264.3ms | Allocations: 403254)
Completed 200 OK in 276ms (Views: 266.5ms | ActiveRecord: 1.0ms | Allocations: 409084)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
SessionTest: test_unauthorized_user_will_be_redirected_to_login_page
--------------------------------------------------------------------
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-14 10:32:45 +0300
Processing by SequenceController#input as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 739)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SessionTest: test_user_can_logout
---------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "molestiae"], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-14 07:32:45.183141"], ["created_at", "2021-12-14 07:32:45.188916"], ["updated_at", "2021-12-14 07:32:45.188916"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2021-12-14 10:32:45 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"login"=>"molestiae", "password_digest"=>"[FILTERED]", "last_login"=>"2021-12-14 07:32:45 UTC"}}
[31mUnpermitted parameters: :login, :password_digest. Context: {  }[0m
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 4.4ms | Allocations: 2280)
  Rendered users/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2600)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 5835)
Completed 422 Unprocessable Entity in 11ms (Views: 8.9ms | ActiveRecord: 0.0ms | Allocations: 7456)
Started GET "/session/logout" for 127.0.0.1 at 2021-12-14 10:32:45 +0300
Processing by SessionController#logout as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 593)
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-14 10:32:45 +0300
Processing by SequenceController#input as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 518)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
SessionTest: test_user_with_incorrect_credentials_will_be_redirected_to_login_page
----------------------------------------------------------------------------------
Started POST "/session/create" for 127.0.0.1 at 2021-12-14 10:32:45 +0300
Processing by SessionController#create as HTML
  Parameters: {"login"=>"et", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 595)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2021-12-14 10:32:45 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 417)
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2021-12-14 10:32:45 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 416)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2021-12-14 10:32:45 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"last_login"=>"2021-12-11 23:56:36 UTC", "name"=>"first", "password_digest"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 416)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2021-12-14 10:32:45 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 1.4ms | Allocations: 598)
  Rendered users/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 660)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 3822)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms | Allocations: 4140)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2021-12-14 10:32:45 +0300
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 416)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2021-12-14 10:32:45 +0300
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  Rendered users/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 926)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 4037)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.6ms | Allocations: 4412)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "users";
INSERT INTO "users" ("id", "name", "password_digest", "last_login", "created_at", "updated_at") VALUES (980190962, 'first', '1234', '2021-12-11 23:56:36', '2021-12-14 07:41:25.396671', '2021-12-14 07:41:25.396671'), (298486374, 'second', '2345', '2021-12-11 23:56:36', '2021-12-14 07:41:25.396671', '2021-12-14 07:41:25.396671')[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2021-12-14 10:41:25 +0300
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  Rendered users/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 1800)
  Rendered layout layouts/application.html.erb (Duration: 77.6ms | Allocations: 64066)
Completed 200 OK in 89ms (Views: 81.4ms | ActiveRecord: 0.4ms | Allocations: 69974)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2021-12-14 10:41:25 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 199.9ms | Allocations: 339839)
  Rendered users/new.html.erb within layouts/application (Duration: 201.0ms | Allocations: 340169)
  Rendered layout layouts/application.html.erb (Duration: 203.9ms | Allocations: 343357)
Completed 200 OK in 205ms (Views: 204.6ms | ActiveRecord: 0.0ms | Allocations: 343835)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2021-12-14 10:41:25 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"last_login"=>"2021-12-11 23:56:36 UTC", "name"=>"first", "password_digest"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.5ms | Allocations: 922)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2021-12-14 10:41:25 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 417)
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2021-12-14 10:41:25 +0300
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 416)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2021-12-14 10:41:25 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 416)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
SessionControllerTest: test_should_get_login
--------------------------------------------
Started GET "/session/login" for 127.0.0.1 at 2021-12-14 10:41:25 +0300
Processing by SessionController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering session/login.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered session/login.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1591)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 4834)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.5ms | Allocations: 5869)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
SessionTest: test_user_with_incorrect_credentials_will_be_redirected_to_login_page
----------------------------------------------------------------------------------
Started POST "/session/create" for 127.0.0.1 at 2021-12-14 10:41:26 +0300
Processing by SessionController#create as HTML
  Parameters: {"login"=>"cum", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 812)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
SessionTest: test_unauthorized_user_will_be_redirected_to_login_page
--------------------------------------------------------------------
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-14 10:41:26 +0300
Processing by SequenceController#input as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 701)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SessionTest: test_user_can_logout
---------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "ut"], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-14 07:41:26.026114"], ["created_at", "2021-12-14 07:41:26.026768"], ["updated_at", "2021-12-14 07:41:26.026768"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2021-12-14 10:41:26 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"login"=>"ut", "password_digest"=>"[FILTERED]", "last_login"=>"2021-12-14 07:41:26 UTC"}}
[31mUnpermitted parameters: :login, :password_digest. Context: {  }[0m
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 3.6ms | Allocations: 1603)
  Rendered users/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1674)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 4884)
Completed 422 Unprocessable Entity in 9ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 5729)
Started GET "/session/logout" for 127.0.0.1 at 2021-12-14 10:41:26 +0300
Processing by SessionController#logout as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 418)
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-14 10:41:26 +0300
Processing by SequenceController#input as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 516)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (3.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (3.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[31mDELETE FROM "users";
INSERT INTO "users" ("id", "name", "password_digest", "last_login", "created_at", "updated_at") VALUES (980190962, 'first', '1234', '2021-12-11 23:56:36', '2021-12-14 10:33:55.075175', '2021-12-14 10:33:55.075175'), (298486374, 'second', '2345', '2021-12-11 23:56:36', '2021-12-14 10:33:55.075175', '2021-12-14 10:33:55.075175')[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
SessionControllerTest: test_should_get_login
--------------------------------------------
Started GET "/session/login" for 127.0.0.1 at 2021-12-14 13:33:55 +0300
Processing by SessionController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering session/login.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered session/login.html.erb within layouts/application (Duration: 414.9ms | Allocations: 341204)
  Rendered layout layouts/application.html.erb (Duration: 526.3ms | Allocations: 403560)
Completed 200 OK in 552ms (Views: 531.8ms | ActiveRecord: 1.6ms | Allocations: 409390)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
SessionTest: test_unauthorized_user_will_be_redirected_to_login_page
--------------------------------------------------------------------
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-14 13:33:56 +0300
Processing by SequenceController#input as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 739)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------
SessionTest: test_user_can_logout
---------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "last_login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "accusantium"], ["password_digest", "[FILTERED]"], ["last_login", "2021-12-14 10:33:56.300028"], ["created_at", "2021-12-14 10:33:56.310123"], ["updated_at", "2021-12-14 10:33:56.310123"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2021-12-14 13:33:56 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"login"=>"accusantium", "password_digest"=>"[FILTERED]", "last_login"=>"2021-12-14 10:33:56 UTC"}}
[31mUnpermitted parameters: :login, :password_digest. Context: {  }[0m
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 12.2ms | Allocations: 2280)
  Rendered users/new.html.erb within layouts/application (Duration: 15.2ms | Allocations: 2600)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | Allocations: 5835)
Completed 422 Unprocessable Entity in 26ms (Views: 22.9ms | ActiveRecord: 0.0ms | Allocations: 7456)
Started GET "/session/logout" for 127.0.0.1 at 2021-12-14 13:33:56 +0300
Processing by SessionController#logout as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 593)
Started GET "/sequence/input" for 127.0.0.1 at 2021-12-14 13:33:56 +0300
Processing by SequenceController#input as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 514)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
SessionTest: test_user_with_incorrect_credentials_will_be_redirected_to_login_page
----------------------------------------------------------------------------------
Started POST "/session/create" for 127.0.0.1 at 2021-12-14 13:33:56 +0300
Processing by SessionController#create as HTML
  Parameters: {"login"=>"omnis", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 595)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962/edit" for 127.0.0.1 at 2021-12-14 13:33:56 +0300
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.0ms | Allocations: 417)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users" for 127.0.0.1 at 2021-12-14 13:33:56 +0300
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  Rendered users/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 969)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 4134)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 1.1ms | Allocations: 4524)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2021-12-14 13:33:56 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 2.8ms | Allocations: 589)
  Rendered users/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 645)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3755)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms | Allocations: 4058)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/980190962" for 127.0.0.1 at 2021-12-14 13:33:56 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 1.1ms | Allocations: 416)
  [1m[36mCACHE User Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/users/980190962" for 127.0.0.1 at 2021-12-14 13:33:56 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 416)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/users/980190962" for 127.0.0.1 at 2021-12-14 13:33:56 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"last_login"=>"2021-12-11 23:56:36 UTC", "name"=>"first", "password_digest"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/session/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 416)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (36.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "ruby_zachet_test"[0m
  [1m[35m (146.6ms)[0m  [1m[35mCREATE DATABASE "ruby_zachet_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments" CASCADE[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "body" text, "user_id" bigint NOT NULL, "post_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_comments_on_post_id" ON "comments" ("post_id")[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "likes" CASCADE[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "likes" ("id" bigserial primary key, "user_id" bigint NOT NULL, "post_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE INDEX "index_likes_on_post_id" ON "likes" ("post_id")[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE INDEX "index_likes_on_user_id" ON "likes" ("user_id")[0m
  [1m[35m (4.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "posts" CASCADE[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "title" character varying, "body" text, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_posts_on_user_id" ON "posts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_2fd19c0db7"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "likes" ADD CONSTRAINT "fk_rails_87a8aac469"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "likes" ADD CONSTRAINT "fk_rails_1e09b5dabf"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "posts" ADD CONSTRAINT "fk_rails_5b5ddfd518"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211220190208)[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211211205636),
(20211220185354),
(20211220185737);

[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2021-12-24 19:35:21.793359"], ["updated_at", "2021-12-24 19:35:21.793359"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "3c32f9d02744871bccc865191daa5d790f28b4a4"], ["created_at", "2021-12-24 19:35:21.806799"], ["updated_at", "2021-12-24 19:35:21.806799"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "likes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[31mDELETE FROM "comments";
DELETE FROM "likes";
DELETE FROM "posts";
DELETE FROM "users";
INSERT INTO "comments" ("id", "body", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2021-12-24 19:36:27.246477', '2021-12-24 19:36:27.246477'), (298486374, 'MyText', 298486374, 298486374, '2021-12-24 19:36:27.246477', '2021-12-24 19:36:27.246477');
INSERT INTO "likes" ("id", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, '2021-12-24 19:36:27.260209', '2021-12-24 19:36:27.260209'), (298486374, 298486374, 298486374, '2021-12-24 19:36:27.260209', '2021-12-24 19:36:27.260209');
INSERT INTO "posts" ("id", "title", "body", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyText', 980190962, '2021-12-24 19:36:27.264671', '2021-12-24 19:36:27.264671'), (298486374, 'MyString', 'MyText', 298486374, '2021-12-24 19:36:27.264671', '2021-12-24 19:36:27.264671');
INSERT INTO "users" ("id", "name", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', '$2a$12$IfUG0.ciGGF7Dyn2ZmXMeODMkYVCWdZCYbK9xvGPTAY79rUUkSq8.', '2021-12-24 19:36:27.266878', '2021-12-24 19:36:27.266878'), (298486374, 'MyString1', '$2a$12$EW6QYFWAg3vQmd85mZl3Ku.WTqF7nEO3lLiFDmSyaVy6teMGkhlNS', '2021-12-24 19:36:27.266878', '2021-12-24 19:36:27.266878')[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "likes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
PostTest: test_valid_really_post
--------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:27.329077"], ["updated_at", "2021-12-24 19:36:27.329077"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mPost Create (1.2ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190963], ["created_at", "2021-12-24 19:36:27.356838"], ["updated_at", "2021-12-24 19:36:27.356838"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostTest: test_valid_really_without_body
----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:27.365776"], ["updated_at", "2021-12-24 19:36:27.365776"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190964], ["created_at", "2021-12-24 19:36:27.370380"], ["updated_at", "2021-12-24 19:36:27.370380"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------
PostTest: test_invalid_without_title
------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:27.377546"], ["updated_at", "2021-12-24 19:36:27.377546"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190965], ["created_at", "2021-12-24 19:36:27.381828"], ["updated_at", "2021-12-24 19:36:27.381828"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
PostTest: test_invalid_without_user_id
--------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:27.390862"], ["updated_at", "2021-12-24 19:36:27.390862"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190966], ["created_at", "2021-12-24 19:36:27.396858"], ["updated_at", "2021-12-24 19:36:27.396858"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:27.529571"], ["updated_at", "2021-12-24 19:36:27.529571"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:27 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 14ms (ActiveRecord: 0.7ms | Allocations: 3699)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190967], ["created_at", "2021-12-24 19:36:27.665503"], ["updated_at", "2021-12-24 19:36:27.665503"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/en/posts/980190967" for 127.0.0.1 at 2021-12-24 22:36:27 +0300
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"body"=>"Rururu", "title"=>"Ilya1312"}, "locale"=>"en", "id"=>"980190967"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (0.9ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["title", "Ilya1312"], ["updated_at", "2021-12-24 19:36:27.687283"], ["id", 980190967]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190967
Completed 302 Found in 12ms (ActiveRecord: 2.5ms | Allocations: 2746)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:27.701491"], ["updated_at", "2021-12-24 19:36:27.701491"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:27 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 1.1ms | Allocations: 492)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190968], ["created_at", "2021-12-24 19:36:27.717018"], ["updated_at", "2021-12-24 19:36:27.717018"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190968/edit" for 127.0.0.1 at 2021-12-24 22:36:27 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190968"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2551)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 2052.7ms | Allocations: 171059)
Completed 200 OK in 2064ms (Views: 2056.2ms | ActiveRecord: 0.9ms | Allocations: 174859)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:29.796562"], ["updated_at", "2021-12-24 19:36:29.796562"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:29 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 461)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190969], ["created_at", "2021-12-24 19:36:29.808487"], ["updated_at", "2021-12-24 19:36:29.808487"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/new" for 127.0.0.1 at 2021-12-24 22:36:29 +0300
Processing by PostsController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 953)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 9063)
Completed 200 OK in 17ms (Views: 14.4ms | ActiveRecord: 0.4ms | Allocations: 9767)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:29.839294"], ["updated_at", "2021-12-24 19:36:29.839294"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:29 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190970], ["created_at", "2021-12-24 19:36:29.852515"], ["updated_at", "2021-12-24 19:36:29.852515"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started DELETE "/en/posts/980190970" for 127.0.0.1 at 2021-12-24 22:36:29 +0300
Processing by PostsController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190970"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190970]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190970]]
  [1m[36mPost Destroy (1.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190970]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts
Completed 302 Found in 29ms (ActiveRecord: 3.3ms | Allocations: 5201)
  [1m[36mPost Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PostsControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:29.899701"], ["updated_at", "2021-12-24 19:36:29.899701"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:29 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 459)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190971], ["created_at", "2021-12-24 19:36:29.910838"], ["updated_at", "2021-12-24 19:36:29.910838"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190962/edit" for 127.0.0.1 at 2021-12-24 22:36:29 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190962"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts/980190962
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.1ms | Allocations: 860)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:29.931071"], ["updated_at", "2021-12-24 19:36:29.931071"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:29 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mPost Create (0.5ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190972], ["created_at", "2021-12-24 19:36:29.944536"], ["updated_at", "2021-12-24 19:36:29.944536"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started POST "/en/posts" for 127.0.0.1 at 2021-12-24 22:36:29 +0300
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"body"=>"body", "title"=>"title"}, "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.5ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "title"], ["body", "body"], ["user_id", 980190972], ["created_at", "2021-12-24 19:36:29.958127"], ["updated_at", "2021-12-24 19:36:29.958127"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190973
Completed 302 Found in 8ms (ActiveRecord: 1.7ms | Allocations: 1569)
  [1m[36mPost Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."title" = $1 LIMIT $2[0m  [["title", "title"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:29.971803"], ["updated_at", "2021-12-24 19:36:29.971803"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:29 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 409)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190973], ["created_at", "2021-12-24 19:36:29.985232"], ["updated_at", "2021-12-24 19:36:29.985232"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190974" for 127.0.0.1 at 2021-12-24 22:36:29 +0300
Processing by PostsController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190974"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190974]]
  [1m[36mLike Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190974]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered likes/_likes.html.erb (Duration: 4.2ms | Allocations: 892)
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190974]]
  Rendered comments/_comments.html.erb (Duration: 2.8ms | Allocations: 527)
  Rendered posts/show.html.erb within layouts/application (Duration: 24.2ms | Allocations: 8229)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 34.5ms | Allocations: 16418)
Completed 200 OK in 40ms (Views: 33.0ms | ActiveRecord: 3.1ms | Allocations: 17397)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.042099"], ["updated_at", "2021-12-24 19:36:30.042099"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 455)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190974], ["created_at", "2021-12-24 19:36:30.055431"], ["updated_at", "2021-12-24 19:36:30.055431"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by PostsController#index as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  Rendered posts/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 1218)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 9492)
Completed 200 OK in 20ms (Views: 16.6ms | ActiveRecord: 2.2ms | Allocations: 9890)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.103093"], ["updated_at", "2021-12-24 19:36:30.103093"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 404)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.149917"], ["updated_at", "2021-12-24 19:36:30.149917"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 403)
Started GET "/en/sessions/destroy" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by SessionsController#destroy as HTML
  Parameters: {"locale"=>"en"}
Redirected to http://www.example.com/en/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 363)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.180839"], ["updated_at", "2021-12-24 19:36:30.180839"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/new" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by SessionsController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 879)
  Rendered layout layouts/application.html.erb (Duration: 68.1ms | Allocations: 8963)
Completed 200 OK in 74ms (Views: 73.0ms | ActiveRecord: 0.0ms | Allocations: 9964)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.283627"], ["updated_at", "2021-12-24 19:36:30.283627"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 461)
Started GET "/en/users/980190978/edit" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190978"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190978], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190978], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1794)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190978], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 10152)
Completed 200 OK in 22ms (Views: 16.7ms | ActiveRecord: 0.7ms | Allocations: 11913)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.335221"], ["updated_at", "2021-12-24 19:36:30.335221"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 455)
Started GET "/en/users" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by UsersController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 1224)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | Allocations: 9333)
Completed 200 OK in 29ms (Views: 25.1ms | ActiveRecord: 1.3ms | Allocations: 10037)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.390482"], ["updated_at", "2021-12-24 19:36:30.390482"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 403)
Started GET "/en/users/new" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by UsersController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1175)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 9468)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 0.4ms | Allocations: 9841)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.431339"], ["updated_at", "2021-12-24 19:36:30.431339"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 403)
Started GET "/en/users/980190981" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by UsersController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190981"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190981]]
  Rendered users/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 839)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 8970)
Completed 200 OK in 19ms (Views: 14.7ms | ActiveRecord: 1.9ms | Allocations: 9705)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.470493"], ["updated_at", "2021-12-24 19:36:30.470493"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/en/users" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "user"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.490385"], ["updated_at", "2021-12-24 19:36:30.490385"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190983
Completed 302 Found in 10ms (ActiveRecord: 2.6ms | Allocations: 1299)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.503144"], ["updated_at", "2021-12-24 19:36:30.503144"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 403)
Started PATCH "/en/users/980190984" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en", "id"=>"980190984"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190984], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2021-12-24 19:36:30.524752"], ["id", 980190984]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190984
Completed 302 Found in 10ms (ActiveRecord: 2.9ms | Allocations: 1435)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.533660"], ["updated_at", "2021-12-24 19:36:30.533660"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 403)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/en/users/980190985" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190985"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190985]]
  [1m[36mComment Load (0.7ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = $1[0m  [["user_id", 980190985]]
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = $1[0m  [["user_id", 980190985]]
  [1m[36mUser Destroy (0.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190985]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/login
Completed 302 Found in 16ms (ActiveRecord: 3.9ms | Allocations: 1889)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.573238"], ["updated_at", "2021-12-24 19:36:30.573238"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 403)
Started GET "/en/users/298486374/edit" for 127.0.0.1 at 2021-12-24 22:36:30 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"298486374"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
Redirected to http://www.example.com/en/users/298486374
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 1.0ms | Allocations: 615)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
UserTest: test_invalid_without_name
-----------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.596441"], ["updated_at", "2021-12-24 19:36:30.596441"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" IS NULL AND "users"."id" != $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
UserTest: test_invalid_without_password
---------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.610907"], ["updated_at", "2021-12-24 19:36:30.610907"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190988], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_invalid_without_password_confirmation
----------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.620290"], ["updated_at", "2021-12-24 19:36:30.620290"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------
UserTest: test_valid_user
-------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:30.627703"], ["updated_at", "2021-12-24 19:36:30.627703"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190990], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.2ms)[0m  [1m[35mALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "likes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "comments";
DELETE FROM "likes";
DELETE FROM "posts";
DELETE FROM "users";
INSERT INTO "comments" ("id", "body", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2021-12-24 19:36:51.675625', '2021-12-24 19:36:51.675625'), (298486374, 'MyText', 298486374, 298486374, '2021-12-24 19:36:51.675625', '2021-12-24 19:36:51.675625');
INSERT INTO "likes" ("id", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, '2021-12-24 19:36:51.688157', '2021-12-24 19:36:51.688157'), (298486374, 298486374, 298486374, '2021-12-24 19:36:51.688157', '2021-12-24 19:36:51.688157');
INSERT INTO "posts" ("id", "title", "body", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyText', 980190962, '2021-12-24 19:36:51.693870', '2021-12-24 19:36:51.693870'), (298486374, 'MyString', 'MyText', 298486374, '2021-12-24 19:36:51.693870', '2021-12-24 19:36:51.693870');
INSERT INTO "users" ("id", "name", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', '$2a$12$GYquFl85BXZKUGxGiuG10O2UtjBsFiu.O8PUoSBa8rQDqFy30n.xu', '2021-12-24 19:36:51.696770', '2021-12-24 19:36:51.696770'), (298486374, 'MyString1', '$2a$12$xTNjLFQbN/9/KYvg/pLw4.PgQvEcb1LEAU/eBMnpp6bxMBxbAeeCu', '2021-12-24 19:36:51.696770', '2021-12-24 19:36:51.696770')[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "likes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
UserTest: test_invalid_without_name
-----------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:51.751003"], ["updated_at", "2021-12-24 19:36:51.751003"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" IS NULL AND "users"."id" != $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
UserTest: test_invalid_without_password
---------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:51.764890"], ["updated_at", "2021-12-24 19:36:51.764890"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190964], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_invalid_without_password_confirmation
----------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:51.774825"], ["updated_at", "2021-12-24 19:36:51.774825"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------
UserTest: test_valid_user
-------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:51.781279"], ["updated_at", "2021-12-24 19:36:51.781279"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190966], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:51.924274"], ["updated_at", "2021-12-24 19:36:51.924274"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:51 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 15ms (ActiveRecord: 0.5ms | Allocations: 3741)
Started GET "/en/users/new" for 127.0.0.1 at 2021-12-24 22:36:52 +0300
Processing by UsersController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 7.1ms | Allocations: 2994)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 1679.2ms | Allocations: 96310)
Completed 200 OK in 1687ms (Views: 1682.5ms | ActiveRecord: 0.6ms | Allocations: 99679)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:53.759910"], ["updated_at", "2021-12-24 19:36:53.759910"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:53 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 486)
  [1m[36mUser Count (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/en/users" for 127.0.0.1 at 2021-12-24 22:36:53 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "user"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:53.789651"], ["updated_at", "2021-12-24 19:36:53.789651"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190969
Completed 302 Found in 11ms (ActiveRecord: 2.8ms | Allocations: 1691)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:53.802742"], ["updated_at", "2021-12-24 19:36:53.802742"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:53 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 436)
Started GET "/en/users" for 127.0.0.1 at 2021-12-24 22:36:53 +0300
Processing by UsersController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1322)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 41.2ms | Allocations: 9491)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 1.0ms | Allocations: 10203)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:53.883410"], ["updated_at", "2021-12-24 19:36:53.883410"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:53 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (7.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 11ms (ActiveRecord: 7.8ms | Allocations: 403)
Started GET "/en/users/298486374/edit" for 127.0.0.1 at 2021-12-24 22:36:53 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"298486374"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
Redirected to http://www.example.com/en/users/298486374
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 735)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:53.928794"], ["updated_at", "2021-12-24 19:36:53.928794"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:53 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/en/users/980190972" for 127.0.0.1 at 2021-12-24 22:36:53 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190972"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190972]]
  [1m[36mComment Load (1.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = $1[0m  [["user_id", 980190972]]
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = $1[0m  [["user_id", 980190972]]
  [1m[36mUser Destroy (1.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190972]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/login
Completed 302 Found in 88ms (ActiveRecord: 5.6ms | Allocations: 6613)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.053245"], ["updated_at", "2021-12-24 19:36:54.053245"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 458)
Started GET "/en/users/980190973/edit" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190973"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1358)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 9528)
Completed 200 OK in 20ms (Views: 15.6ms | ActiveRecord: 1.0ms | Allocations: 10334)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.093735"], ["updated_at", "2021-12-24 19:36:54.093735"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
Started PATCH "/en/users/980190974" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en", "id"=>"980190974"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190974], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2021-12-24 19:36:54.114832"], ["id", 980190974]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190974
Completed 302 Found in 10ms (ActiveRecord: 2.2ms | Allocations: 1501)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.126273"], ["updated_at", "2021-12-24 19:36:54.126273"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
Started GET "/en/users/980190975" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by UsersController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190975"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190975]]
  Rendered users/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 529)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 8657)
Completed 200 OK in 17ms (Views: 11.2ms | ActiveRecord: 1.6ms | Allocations: 9387)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.165017"], ["updated_at", "2021-12-24 19:36:54.165017"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/new" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 868)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 8919)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.0ms | Allocations: 9920)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.193452"], ["updated_at", "2021-12-24 19:36:54.193452"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 470)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.208563"], ["updated_at", "2021-12-24 19:36:54.208563"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 403)
Started GET "/en/sessions/destroy" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#destroy as HTML
  Parameters: {"locale"=>"en"}
Redirected to http://www.example.com/en/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 375)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.228116"], ["updated_at", "2021-12-24 19:36:54.228116"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190979], ["created_at", "2021-12-24 19:36:54.248882"], ["updated_at", "2021-12-24 19:36:54.248882"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started POST "/en/posts" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"body"=>"body", "title"=>"title"}, "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "title"], ["body", "body"], ["user_id", 980190979], ["created_at", "2021-12-24 19:36:54.263927"], ["updated_at", "2021-12-24 19:36:54.263927"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190964
Completed 302 Found in 7ms (ActiveRecord: 1.5ms | Allocations: 1744)
  [1m[36mPost Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."title" = $1 LIMIT $2[0m  [["title", "title"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.279969"], ["updated_at", "2021-12-24 19:36:54.279969"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 409)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190980], ["created_at", "2021-12-24 19:36:54.294856"], ["updated_at", "2021-12-24 19:36:54.294856"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by PostsController#index as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  Rendered posts/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1469)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 9917)
Completed 200 OK in 20ms (Views: 17.1ms | ActiveRecord: 1.9ms | Allocations: 10885)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.329225"], ["updated_at", "2021-12-24 19:36:54.329225"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 426)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  [1m[36mPost Create (1.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190981], ["created_at", "2021-12-24 19:36:54.344396"], ["updated_at", "2021-12-24 19:36:54.344396"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/new" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by PostsController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1117)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 9224)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.4ms | Allocations: 9892)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PostsControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.370883"], ["updated_at", "2021-12-24 19:36:54.370883"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190982], ["created_at", "2021-12-24 19:36:54.382606"], ["updated_at", "2021-12-24 19:36:54.382606"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190962/edit" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190962"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts/980190962
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 1.7ms | Allocations: 928)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.404614"], ["updated_at", "2021-12-24 19:36:54.404614"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190983], ["created_at", "2021-12-24 19:36:54.415613"], ["updated_at", "2021-12-24 19:36:54.415613"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190968/edit" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190968"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 3.2ms | Allocations: 966)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 9081)
Completed 200 OK in 20ms (Views: 14.5ms | ActiveRecord: 1.3ms | Allocations: 9982)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.450029"], ["updated_at", "2021-12-24 19:36:54.450029"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mPost Create (1.2ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190984], ["created_at", "2021-12-24 19:36:54.461945"], ["updated_at", "2021-12-24 19:36:54.461945"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190969" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by PostsController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190969"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190969]]
  [1m[36mLike Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190969]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered likes/_likes.html.erb (Duration: 7.4ms | Allocations: 876)
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190969]]
  Rendered comments/_comments.html.erb (Duration: 3.8ms | Allocations: 757)
  Rendered posts/show.html.erb within layouts/application (Duration: 27.6ms | Allocations: 8382)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 16562)
Completed 200 OK in 39ms (Views: 32.9ms | ActiveRecord: 3.4ms | Allocations: 17475)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.513541"], ["updated_at", "2021-12-24 19:36:54.513541"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 455)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190985], ["created_at", "2021-12-24 19:36:54.524893"], ["updated_at", "2021-12-24 19:36:54.524893"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started DELETE "/en/posts/980190970" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by PostsController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190970"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190970]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190970]]
  [1m[36mPost Destroy (1.5ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190970]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts
Completed 302 Found in 14ms (ActiveRecord: 4.3ms | Allocations: 1439)
  [1m[36mPost Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.554350"], ["updated_at", "2021-12-24 19:36:54.554350"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  [1m[36mPost Create (0.5ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190986], ["created_at", "2021-12-24 19:36:54.565099"], ["updated_at", "2021-12-24 19:36:54.565099"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/en/posts/980190971" for 127.0.0.1 at 2021-12-24 22:36:54 +0300
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"body"=>"Rururu", "title"=>"Ilya1312"}, "locale"=>"en", "id"=>"980190971"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (0.6ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["title", "Ilya1312"], ["updated_at", "2021-12-24 19:36:54.577599"], ["id", 980190971]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190971
Completed 302 Found in 9ms (ActiveRecord: 2.1ms | Allocations: 1574)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
PostTest: test_invalid_without_user_id
--------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.591202"], ["updated_at", "2021-12-24 19:36:54.591202"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  [1m[36mPost Create (0.5ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190987], ["created_at", "2021-12-24 19:36:54.597889"], ["updated_at", "2021-12-24 19:36:54.597889"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------
PostTest: test_invalid_without_title
------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.606229"], ["updated_at", "2021-12-24 19:36:54.606229"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190988], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190988], ["created_at", "2021-12-24 19:36:54.611398"], ["updated_at", "2021-12-24 19:36:54.611398"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
PostTest: test_valid_really_post
--------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.619827"], ["updated_at", "2021-12-24 19:36:54.619827"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190989], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190989], ["created_at", "2021-12-24 19:36:54.624580"], ["updated_at", "2021-12-24 19:36:54.624580"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostTest: test_valid_really_without_body
----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:36:54.632304"], ["updated_at", "2021-12-24 19:36:54.632304"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190990], ["LIMIT", 1]]
  [1m[36mPost Create (0.9ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190990], ["created_at", "2021-12-24 19:36:54.637822"], ["updated_at", "2021-12-24 19:36:54.637822"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "likes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "comments";
DELETE FROM "likes";
DELETE FROM "posts";
DELETE FROM "users";
INSERT INTO "comments" ("id", "body", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2021-12-24 19:38:48.452381', '2021-12-24 19:38:48.452381'), (298486374, 'MyText', 298486374, 298486374, '2021-12-24 19:38:48.452381', '2021-12-24 19:38:48.452381');
INSERT INTO "likes" ("id", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, '2021-12-24 19:38:48.465290', '2021-12-24 19:38:48.465290'), (298486374, 298486374, 298486374, '2021-12-24 19:38:48.465290', '2021-12-24 19:38:48.465290');
INSERT INTO "posts" ("id", "title", "body", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyText', 980190962, '2021-12-24 19:38:48.471146', '2021-12-24 19:38:48.471146'), (298486374, 'MyString', 'MyText', 298486374, '2021-12-24 19:38:48.471146', '2021-12-24 19:38:48.471146');
INSERT INTO "users" ("id", "name", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', '$2a$12$yfNMWWHVDOpVsdeYYQuxlOc64vgMQ7f1yGWtNXS8AaqdaBAt.R0xG', '2021-12-24 19:38:48.474129', '2021-12-24 19:38:48.474129'), (298486374, 'MyString1', '$2a$12$XBJBztCWvEp//R2gO2Z.kewd1B5HBjMmP1prmQNY4xeVYAfYS9HJK', '2021-12-24 19:38:48.474129', '2021-12-24 19:38:48.474129')[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "likes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
PostTest: test_invalid_without_user_id
--------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:48.526872"], ["updated_at", "2021-12-24 19:38:48.526872"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190963], ["created_at", "2021-12-24 19:38:48.548045"], ["updated_at", "2021-12-24 19:38:48.548045"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostTest: test_valid_really_without_body
----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:48.556211"], ["updated_at", "2021-12-24 19:38:48.556211"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190964], ["created_at", "2021-12-24 19:38:48.560354"], ["updated_at", "2021-12-24 19:38:48.560354"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------
PostTest: test_invalid_without_title
------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:48.567836"], ["updated_at", "2021-12-24 19:38:48.567836"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mPost Create (1.2ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190965], ["created_at", "2021-12-24 19:38:48.574592"], ["updated_at", "2021-12-24 19:38:48.574592"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
PostTest: test_valid_really_post
--------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:48.587396"], ["updated_at", "2021-12-24 19:38:48.587396"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190966], ["created_at", "2021-12-24 19:38:48.591840"], ["updated_at", "2021-12-24 19:38:48.591840"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
UserTest: test_invalid_without_password
---------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:48.600448"], ["updated_at", "2021-12-24 19:38:48.600448"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190967], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
UserTest: test_invalid_without_name
-----------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:48.611087"], ["updated_at", "2021-12-24 19:38:48.611087"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" IS NULL AND "users"."id" != $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------
UserTest: test_valid_user
-------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:48.624256"], ["updated_at", "2021-12-24 19:38:48.624256"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190969], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_invalid_without_password_confirmation
----------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:48.637076"], ["updated_at", "2021-12-24 19:38:48.637076"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:48.854535"], ["updated_at", "2021-12-24 19:38:48.854535"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:48 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 17ms (ActiveRecord: 0.4ms | Allocations: 3695)
Started GET "/en/users/980190971" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by UsersController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190971"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190971]]
  Rendered users/show.html.erb within layouts/application (Duration: 12.0ms | Allocations: 3072)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 294.0ms | Allocations: 100034)
Completed 200 OK in 320ms (Views: 303.4ms | ActiveRecord: 1.6ms | Allocations: 104180)
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:49.370715"], ["updated_at", "2021-12-24 19:38:49.370715"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 15ms (ActiveRecord: 0.6ms | Allocations: 486)
Started GET "/en/users" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by UsersController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.erb within layouts/application (Duration: 27.3ms | Allocations: 1349)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 52.4ms | Allocations: 9505)
Completed 200 OK in 65ms (Views: 51.3ms | ActiveRecord: 2.4ms | Allocations: 10213)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:49.494994"], ["updated_at", "2021-12-24 19:38:49.494994"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 403)
Started GET "/en/users/298486374/edit" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"298486374"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
Redirected to http://www.example.com/en/users/298486374
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 1.1ms | Allocations: 674)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:49.595071"], ["updated_at", "2021-12-24 19:38:49.595071"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
Started PATCH "/en/users/980190974" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en", "id"=>"980190974"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190974], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2021-12-24 19:38:49.625672"], ["id", 980190974]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190974
Completed 302 Found in 14ms (ActiveRecord: 3.1ms | Allocations: 1917)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:49.637047"], ["updated_at", "2021-12-24 19:38:49.637047"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 409)
Started GET "/en/users/980190975/edit" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190975"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 12.6ms | Allocations: 2608)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 10938)
Completed 200 OK in 25ms (Views: 21.7ms | ActiveRecord: 0.7ms | Allocations: 11760)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:49.683620"], ["updated_at", "2021-12-24 19:38:49.683620"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 455)
Started GET "/en/users/new" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by UsersController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1211)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190976], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 9507)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.7ms | Allocations: 9930)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:49.725112"], ["updated_at", "2021-12-24 19:38:49.725112"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 403)
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/en/users" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "user"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:49.750098"], ["updated_at", "2021-12-24 19:38:49.750098"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190978
Completed 302 Found in 9ms (ActiveRecord: 1.9ms | Allocations: 1566)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:49.765222"], ["updated_at", "2021-12-24 19:38:49.765222"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 436)
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/en/users/980190979" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190979"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190979]]
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = $1[0m  [["user_id", 980190979]]
  [1m[36mLike Load (0.7ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = $1[0m  [["user_id", 980190979]]
  [1m[36mUser Destroy (1.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190979]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/login
Completed 302 Found in 18ms (ActiveRecord: 4.8ms | Allocations: 2293)
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:49.814445"], ["updated_at", "2021-12-24 19:38:49.814445"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 6ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  [1m[36mPost Create (1.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190980], ["created_at", "2021-12-24 19:38:49.832780"], ["updated_at", "2021-12-24 19:38:49.832780"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started POST "/en/posts" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"body"=>"body", "title"=>"title"}, "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (1.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "title"], ["body", "body"], ["user_id", 980190980], ["created_at", "2021-12-24 19:38:49.852928"], ["updated_at", "2021-12-24 19:38:49.852928"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190968
Completed 302 Found in 12ms (ActiveRecord: 2.7ms | Allocations: 1743)
  [1m[36mPost Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."title" = $1 LIMIT $2[0m  [["title", "title"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:49.882323"], ["updated_at", "2021-12-24 19:38:49.882323"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 409)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190981], ["created_at", "2021-12-24 19:38:49.898980"], ["updated_at", "2021-12-24 19:38:49.898980"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190969/edit" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190969"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1282)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 9605)
Completed 200 OK in 19ms (Views: 12.7ms | ActiveRecord: 1.4ms | Allocations: 11213)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:49.935081"], ["updated_at", "2021-12-24 19:38:49.935081"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 458)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190982], ["created_at", "2021-12-24 19:38:49.948776"], ["updated_at", "2021-12-24 19:38:49.948776"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/en/posts/980190970" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"body"=>"Rururu", "title"=>"Ilya1312"}, "locale"=>"en", "id"=>"980190970"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (0.5ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["title", "Ilya1312"], ["updated_at", "2021-12-24 19:38:49.963977"], ["id", 980190970]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190970
Completed 302 Found in 12ms (ActiveRecord: 2.2ms | Allocations: 1603)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:49.976346"], ["updated_at", "2021-12-24 19:38:49.976346"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190983], ["created_at", "2021-12-24 19:38:49.987351"], ["updated_at", "2021-12-24 19:38:49.987351"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts" for 127.0.0.1 at 2021-12-24 22:38:49 +0300
Processing by PostsController#index as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  Rendered posts/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1213)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 9474)
Completed 200 OK in 20ms (Views: 17.0ms | ActiveRecord: 1.7ms | Allocations: 9874)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:50.020052"], ["updated_at", "2021-12-24 19:38:50.020052"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:50 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 403)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mPost Create (1.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190984], ["created_at", "2021-12-24 19:38:50.033322"], ["updated_at", "2021-12-24 19:38:50.033322"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190972" for 127.0.0.1 at 2021-12-24 22:38:50 +0300
Processing by PostsController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190972"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190972]]
  [1m[36mLike Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190972]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered likes/_likes.html.erb (Duration: 6.0ms | Allocations: 875)
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190972]]
  Rendered comments/_comments.html.erb (Duration: 4.9ms | Allocations: 756)
  Rendered posts/show.html.erb within layouts/application (Duration: 30.0ms | Allocations: 8450)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 37.3ms | Allocations: 16624)
Completed 200 OK in 42ms (Views: 36.2ms | ActiveRecord: 2.6ms | Allocations: 17537)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:50.090670"], ["updated_at", "2021-12-24 19:38:50.090670"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:50 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 455)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190985], ["created_at", "2021-12-24 19:38:50.103093"], ["updated_at", "2021-12-24 19:38:50.103093"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started DELETE "/en/posts/980190973" for 127.0.0.1 at 2021-12-24 22:38:50 +0300
Processing by PostsController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190973"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190973]]
  [1m[36mLike Load (1.0ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190973]]
  [1m[36mPost Destroy (1.3ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190973]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts
Completed 302 Found in 13ms (ActiveRecord: 4.1ms | Allocations: 1436)
  [1m[36mPost Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:50.137533"], ["updated_at", "2021-12-24 19:38:50.137533"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:50 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  [1m[36mPost Create (0.5ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190986], ["created_at", "2021-12-24 19:38:50.148298"], ["updated_at", "2021-12-24 19:38:50.148298"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/new" for 127.0.0.1 at 2021-12-24 22:38:50 +0300
Processing by PostsController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 959)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 9065)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 0.4ms | Allocations: 9716)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PostsControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (3.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:50.178265"], ["updated_at", "2021-12-24 19:38:50.178265"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:50 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190987], ["created_at", "2021-12-24 19:38:50.194315"], ["updated_at", "2021-12-24 19:38:50.194315"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190962/edit" for 127.0.0.1 at 2021-12-24 22:38:50 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190962"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts/980190962
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 1.4ms | Allocations: 809)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:50.221901"], ["updated_at", "2021-12-24 19:38:50.221901"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:50 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:50.238261"], ["updated_at", "2021-12-24 19:38:50.238261"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-24 22:38:50 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 403)
Started GET "/en/sessions/destroy" for 127.0.0.1 at 2021-12-24 22:38:50 +0300
Processing by SessionsController#destroy as HTML
  Parameters: {"locale"=>"en"}
Redirected to http://www.example.com/en/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 363)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-24 19:38:50.258184"], ["updated_at", "2021-12-24 19:38:50.258184"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/new" for 127.0.0.1 at 2021-12-24 22:38:50 +0300
Processing by SessionsController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 867)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 8951)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.0ms | Allocations: 9952)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (2.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "likes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.4ms)[0m  [1m[31mDELETE FROM "comments";
DELETE FROM "likes";
DELETE FROM "posts";
DELETE FROM "users";
INSERT INTO "comments" ("id", "body", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2021-12-25 19:56:43.449342', '2021-12-25 19:56:43.449342'), (298486374, 'MyText', 298486374, 298486374, '2021-12-25 19:56:43.449342', '2021-12-25 19:56:43.449342');
INSERT INTO "likes" ("id", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, '2021-12-25 19:56:43.465346', '2021-12-25 19:56:43.465346'), (298486374, 298486374, 298486374, '2021-12-25 19:56:43.465346', '2021-12-25 19:56:43.465346');
INSERT INTO "posts" ("id", "title", "body", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyText', 980190962, '2021-12-25 19:56:43.471276', '2021-12-25 19:56:43.471276'), (298486374, 'MyString', 'MyText', 298486374, '2021-12-25 19:56:43.471276', '2021-12-25 19:56:43.471276');
INSERT INTO "users" ("id", "name", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', '$2a$12$yQ8afC4u/XfcjttIO3RSRO84YalEVTWQ2f4GBSuHQD2vU/OyI1A4e', '2021-12-25 19:56:43.473912', '2021-12-25 19:56:43.473912'), (298486374, 'MyString1', '$2a$12$Rz1OPbRwbyD7C2o8iaMIcO6jmr0tQCDeF6NHyV7hr8r/qZ9j5uGz.', '2021-12-25 19:56:43.473912', '2021-12-25 19:56:43.473912')[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "likes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (26.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:43.716527"], ["updated_at", "2021-12-25 19:56:43.716527"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:43 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 14ms (ActiveRecord: 0.4ms | Allocations: 3868)
Started GET "/en/users" for 127.0.0.1 at 2021-12-25 22:56:43 +0300
Processing by UsersController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1955)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 250.5ms | Allocations: 92529)
Completed 200 OK in 264ms (Views: 256.6ms | ActiveRecord: 1.0ms | Allocations: 96480)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.141951"], ["updated_at", "2021-12-25 19:56:44.141951"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 486)
Started GET "/en/users/new" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by UsersController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 11.4ms | Allocations: 2570)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 11086)
Completed 200 OK in 23ms (Views: 22.1ms | ActiveRecord: 0.5ms | Allocations: 11533)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.188670"], ["updated_at", "2021-12-25 19:56:44.188670"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 429)
Started PATCH "/en/users/980190965" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en", "id"=>"980190965"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190965], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2021-12-25 19:56:44.219359"], ["id", 980190965]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190965
Completed 302 Found in 13ms (ActiveRecord: 3.2ms | Allocations: 2108)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.231440"], ["updated_at", "2021-12-25 19:56:44.231440"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 409)
  [1m[36mUser Count (4.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/en/users/980190966" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190966"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190966]]
  [1m[36mComment Load (0.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = $1[0m  [["user_id", 980190966]]
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = $1[0m  [["user_id", 980190966]]
  [1m[36mUser Destroy (1.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190966]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/login
Completed 302 Found in 70ms (ActiveRecord: 4.7ms | Allocations: 6582)
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.357877"], ["updated_at", "2021-12-25 19:56:44.357877"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 9ms (ActiveRecord: 2.0ms | Allocations: 458)
Started GET "/en/users/298486374/edit" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"298486374"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
Redirected to http://www.example.com/en/users/298486374
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 660)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.402920"], ["updated_at", "2021-12-25 19:56:44.402920"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 403)
Started GET "/en/users/980190968" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by UsersController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190968"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190968]]
  Rendered users/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 564)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 77.9ms | Allocations: 8830)
Completed 200 OK in 84ms (Views: 78.5ms | ActiveRecord: 1.5ms | Allocations: 9636)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.515181"], ["updated_at", "2021-12-25 19:56:44.515181"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/en/users" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "user"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.539121"], ["updated_at", "2021-12-25 19:56:44.539121"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190970
Completed 302 Found in 12ms (ActiveRecord: 2.5ms | Allocations: 1566)
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.557720"], ["updated_at", "2021-12-25 19:56:44.557720"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 436)
Started GET "/en/users/980190971/edit" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190971"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1354)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 9520)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 0.9ms | Allocations: 10343)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------
PostTest: test_invalid_without_title
------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.604049"], ["updated_at", "2021-12-25 19:56:44.604049"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190972], ["created_at", "2021-12-25 19:56:44.617751"], ["updated_at", "2021-12-25 19:56:44.617751"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
PostTest: test_invalid_without_user_id
--------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.626373"], ["updated_at", "2021-12-25 19:56:44.626373"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190973], ["created_at", "2021-12-25 19:56:44.632398"], ["updated_at", "2021-12-25 19:56:44.632398"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------
PostTest: test_valid_really_post
--------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.643356"], ["updated_at", "2021-12-25 19:56:44.643356"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190974], ["created_at", "2021-12-25 19:56:44.651657"], ["updated_at", "2021-12-25 19:56:44.651657"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostTest: test_valid_really_without_body
----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.661615"], ["updated_at", "2021-12-25 19:56:44.661615"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190975], ["created_at", "2021-12-25 19:56:44.665949"], ["updated_at", "2021-12-25 19:56:44.665949"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------
UserTest: test_valid_user
-------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.673851"], ["updated_at", "2021-12-25 19:56:44.673851"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190976], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_invalid_without_password_confirmation
----------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.685362"], ["updated_at", "2021-12-25 19:56:44.685362"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
UserTest: test_invalid_without_name
-----------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.696417"], ["updated_at", "2021-12-25 19:56:44.696417"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" IS NULL AND "users"."id" != $1 LIMIT $2[0m  [["id", 980190978], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
UserTest: test_invalid_without_password
---------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.708518"], ["updated_at", "2021-12-25 19:56:44.708518"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190979], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.719883"], ["updated_at", "2021-12-25 19:56:44.719883"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 482)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190980], ["created_at", "2021-12-25 19:56:44.732545"], ["updated_at", "2021-12-25 19:56:44.732545"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (1.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/new" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by PostsController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1256)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 9568)
Completed 200 OK in 18ms (Views: 13.6ms | ActiveRecord: 1.0ms | Allocations: 11064)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PostsControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.771240"], ["updated_at", "2021-12-25 19:56:44.771240"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 458)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190981], ["created_at", "2021-12-25 19:56:44.783370"], ["updated_at", "2021-12-25 19:56:44.783370"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190962/edit" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190962"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts/980190962
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 1.9ms | Allocations: 1009)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.807768"], ["updated_at", "2021-12-25 19:56:44.807768"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190982], ["created_at", "2021-12-25 19:56:44.820192"], ["updated_at", "2021-12-25 19:56:44.820192"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/en/posts/980190969" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"body"=>"Rururu", "title"=>"Ilya1312"}, "locale"=>"en", "id"=>"980190969"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (0.5ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["title", "Ilya1312"], ["updated_at", "2021-12-25 19:56:44.833090"], ["id", 980190969]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190969
Completed 302 Found in 9ms (ActiveRecord: 2.2ms | Allocations: 1592)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.845706"], ["updated_at", "2021-12-25 19:56:44.845706"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 403)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190983], ["created_at", "2021-12-25 19:56:44.860649"], ["updated_at", "2021-12-25 19:56:44.860649"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started POST "/en/posts" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"body"=>"body", "title"=>"title"}, "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "title"], ["body", "body"], ["user_id", 980190983], ["created_at", "2021-12-25 19:56:44.872503"], ["updated_at", "2021-12-25 19:56:44.872503"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190971
Completed 302 Found in 7ms (ActiveRecord: 1.6ms | Allocations: 1227)
  [1m[36mPost Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."title" = $1 LIMIT $2[0m  [["title", "title"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.888157"], ["updated_at", "2021-12-25 19:56:44.888157"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190984], ["created_at", "2021-12-25 19:56:44.901336"], ["updated_at", "2021-12-25 19:56:44.901336"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started DELETE "/en/posts/980190972" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by PostsController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190972"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190972]]
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190972]]
  [1m[36mPost Destroy (0.9ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190972]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts
Completed 302 Found in 18ms (ActiveRecord: 3.2ms | Allocations: 1847)
  [1m[36mPost Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.935521"], ["updated_at", "2021-12-25 19:56:44.935521"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 403)
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190985], ["created_at", "2021-12-25 19:56:44.954015"], ["updated_at", "2021-12-25 19:56:44.954015"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190973/edit" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190973"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 3.9ms | Allocations: 968)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 9077)
Completed 200 OK in 16ms (Views: 11.5ms | ActiveRecord: 0.9ms | Allocations: 9997)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:44.985422"], ["updated_at", "2021-12-25 19:56:44.985422"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190986], ["created_at", "2021-12-25 19:56:44.999579"], ["updated_at", "2021-12-25 19:56:44.999579"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts" for 127.0.0.1 at 2021-12-25 22:56:45 +0300
Processing by PostsController#index as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  Rendered posts/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 1213)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 9500)
Completed 200 OK in 21ms (Views: 17.6ms | ActiveRecord: 2.4ms | Allocations: 9871)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:45.035035"], ["updated_at", "2021-12-25 19:56:45.035035"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:45 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 403)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190987], ["created_at", "2021-12-25 19:56:45.048490"], ["updated_at", "2021-12-25 19:56:45.048490"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190975" for 127.0.0.1 at 2021-12-25 22:56:45 +0300
Processing by PostsController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190975"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190975]]
  [1m[36mLike Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190975]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered likes/_likes.html.erb (Duration: 6.1ms | Allocations: 875)
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190975]]
  Rendered comments/_comments.html.erb (Duration: 3.2ms | Allocations: 526)
  Rendered posts/show.html.erb within layouts/application (Duration: 30.4ms | Allocations: 7930)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 39.9ms | Allocations: 16113)
Completed 200 OK in 46ms (Views: 38.6ms | ActiveRecord: 3.1ms | Allocations: 17034)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:45.107012"], ["updated_at", "2021-12-25 19:56:45.107012"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:45 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 455)
Started GET "/en/sessions/destroy" for 127.0.0.1 at 2021-12-25 22:56:45 +0300
Processing by SessionsController#destroy as HTML
  Parameters: {"locale"=>"en"}
Redirected to http://www.example.com/en/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 374)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:45.131059"], ["updated_at", "2021-12-25 19:56:45.131059"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/new" for 127.0.0.1 at 2021-12-25 22:56:45 +0300
Processing by SessionsController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 867)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 8912)
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.0ms | Allocations: 9929)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 19:56:45.156427"], ["updated_at", "2021-12-25 19:56:45.156427"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 22:56:45 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 470)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (2.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "likes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.4ms)[0m  [1m[31mDELETE FROM "comments";
DELETE FROM "likes";
DELETE FROM "posts";
DELETE FROM "users";
INSERT INTO "comments" ("id", "body", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2021-12-25 20:18:57.096063', '2021-12-25 20:18:57.096063'), (298486374, 'MyText', 298486374, 298486374, '2021-12-25 20:18:57.096063', '2021-12-25 20:18:57.096063');
INSERT INTO "likes" ("id", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, '2021-12-25 20:18:57.113449', '2021-12-25 20:18:57.113449'), (298486374, 298486374, 298486374, '2021-12-25 20:18:57.113449', '2021-12-25 20:18:57.113449');
INSERT INTO "posts" ("id", "title", "body", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyText', 980190962, '2021-12-25 20:18:57.118774', '2021-12-25 20:18:57.118774'), (298486374, 'MyString', 'MyText', 298486374, '2021-12-25 20:18:57.118774', '2021-12-25 20:18:57.118774');
INSERT INTO "users" ("id", "name", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', '$2a$12$Pkrc9jOKGMKkjrqhG/uTnulA.gBMpEXa.VoerJue9lMZrFRK.xUJS', '2021-12-25 20:18:57.122019', '2021-12-25 20:18:57.122019'), (298486374, 'MyString1', '$2a$12$ugLSnYbYKQhd71Vu8y0KkOeZ9b9YfPSwQonq46K9BWMicONfasY2m', '2021-12-25 20:18:57.122019', '2021-12-25 20:18:57.122019')[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "likes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:57.489200"], ["updated_at", "2021-12-25 20:18:57.489200"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:57 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 20ms (ActiveRecord: 0.9ms | Allocations: 3965)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:57.753030"], ["updated_at", "2021-12-25 20:18:57.753030"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:57 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 488)
Started GET "/en/sessions/destroy" for 127.0.0.1 at 2021-12-25 23:18:57 +0300
Processing by SessionsController#destroy as HTML
  Parameters: {"locale"=>"en"}
Redirected to http://www.example.com/en/login
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 425)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:57.776973"], ["updated_at", "2021-12-25 20:18:57.776973"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/new" for 127.0.0.1 at 2021-12-25 23:18:57 +0300
Processing by SessionsController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1348)
  Rendered layout layouts/application.html.erb (Duration: 449.8ms | Allocations: 91371)
Completed 200 OK in 468ms (Views: 458.0ms | ActiveRecord: 0.0ms | Allocations: 94686)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.259083"], ["updated_at", "2021-12-25 20:18:58.259083"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 474)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mPost Create (1.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190966], ["created_at", "2021-12-25 20:18:58.289243"], ["updated_at", "2021-12-25 20:18:58.289243"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by PostsController#index as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  Rendered posts/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 1847)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 10359)
Completed 200 OK in 24ms (Views: 21.0ms | ActiveRecord: 2.2ms | Allocations: 11486)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.333918"], ["updated_at", "2021-12-25 20:18:58.333918"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 426)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mPost Create (1.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190967], ["created_at", "2021-12-25 20:18:58.345243"], ["updated_at", "2021-12-25 20:18:58.345243"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/en/posts/980190964" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"body"=>"Rururu", "title"=>"Ilya1312"}, "locale"=>"en", "id"=>"980190964"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (1.6ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["title", "Ilya1312"], ["updated_at", "2021-12-25 20:18:58.394831"], ["id", 980190964]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190964
Completed 302 Found in 36ms (ActiveRecord: 3.8ms | Allocations: 2292)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.425653"], ["updated_at", "2021-12-25 20:18:58.425653"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 1.6ms | Allocations: 410)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190968], ["created_at", "2021-12-25 20:18:58.450457"], ["updated_at", "2021-12-25 20:18:58.450457"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/new" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by PostsController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 22.5ms | Allocations: 2071)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 79.4ms | Allocations: 10358)
Completed 200 OK in 92ms (Views: 88.7ms | ActiveRecord: 0.7ms | Allocations: 11060)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.566471"], ["updated_at", "2021-12-25 20:18:58.566471"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 461)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190969], ["created_at", "2021-12-25 20:18:58.583946"], ["updated_at", "2021-12-25 20:18:58.583946"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started POST "/en/posts" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"body"=>"body", "title"=>"title"}, "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "title"], ["body", "body"], ["user_id", 980190969], ["created_at", "2021-12-25 20:18:58.599893"], ["updated_at", "2021-12-25 20:18:58.599893"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190967
Completed 302 Found in 8ms (ActiveRecord: 2.0ms | Allocations: 1567)
  [1m[36mPost Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."title" = $1 LIMIT $2[0m  [["title", "title"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.615250"], ["updated_at", "2021-12-25 20:18:58.615250"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 409)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190970], ["created_at", "2021-12-25 20:18:58.630416"], ["updated_at", "2021-12-25 20:18:58.630416"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started DELETE "/en/posts/980190968" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by PostsController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190968"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190968]]
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190968]]
  [1m[36mPost Destroy (1.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190968]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts
Completed 302 Found in 24ms (ActiveRecord: 3.7ms | Allocations: 4044)
  [1m[36mPost Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.676514"], ["updated_at", "2021-12-25 20:18:58.676514"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 459)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190971], ["created_at", "2021-12-25 20:18:58.689420"], ["updated_at", "2021-12-25 20:18:58.689420"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190969/edit" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190969"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1083)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 9246)
Completed 200 OK in 20ms (Views: 14.1ms | ActiveRecord: 1.2ms | Allocations: 10227)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PostsControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.726945"], ["updated_at", "2021-12-25 20:18:58.726945"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190972], ["created_at", "2021-12-25 20:18:58.739997"], ["updated_at", "2021-12-25 20:18:58.739997"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190962/edit" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190962"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts/980190962
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 1.4ms | Allocations: 814)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.760485"], ["updated_at", "2021-12-25 20:18:58.760485"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mPost Create (1.4ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190973], ["created_at", "2021-12-25 20:18:58.775758"], ["updated_at", "2021-12-25 20:18:58.775758"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190971" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by PostsController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190971"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  [1m[36mLike Load (0.7ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190971]]
  [1m[36mLike Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190971]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered likes/_likes.html.erb (Duration: 5.8ms | Allocations: 893)
  [1m[36mComment Load (0.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190971]]
  Rendered comments/_comments.html.erb (Duration: 6.8ms | Allocations: 526)
  Rendered posts/show.html.erb within layouts/application (Duration: 32.7ms | Allocations: 7983)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 44.5ms | Allocations: 16157)
Completed 200 OK in 50ms (Views: 42.2ms | ActiveRecord: 4.2ms | Allocations: 17066)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------
PostTest: test_valid_really_post
--------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.842553"], ["updated_at", "2021-12-25 20:18:58.842553"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mPost Create (1.2ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190974], ["created_at", "2021-12-25 20:18:58.849659"], ["updated_at", "2021-12-25 20:18:58.849659"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostTest: test_valid_really_without_body
----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.859782"], ["updated_at", "2021-12-25 20:18:58.859782"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190975], ["created_at", "2021-12-25 20:18:58.866468"], ["updated_at", "2021-12-25 20:18:58.866468"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------
PostTest: test_invalid_without_title
------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.878713"], ["updated_at", "2021-12-25 20:18:58.878713"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190976], ["LIMIT", 1]]
  [1m[36mPost Create (1.5ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190976], ["created_at", "2021-12-25 20:18:58.885500"], ["updated_at", "2021-12-25 20:18:58.885500"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
PostTest: test_invalid_without_user_id
--------------------------------------
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.899154"], ["updated_at", "2021-12-25 20:18:58.899154"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190977], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190977], ["created_at", "2021-12-25 20:18:58.905665"], ["updated_at", "2021-12-25 20:18:58.905665"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
UserTest: test_invalid_without_name
-----------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.918218"], ["updated_at", "2021-12-25 20:18:58.918218"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" IS NULL AND "users"."id" != $1 LIMIT $2[0m  [["id", 980190978], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
UserTest: test_invalid_without_password
---------------------------------------
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.933266"], ["updated_at", "2021-12-25 20:18:58.933266"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190979], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_invalid_without_password_confirmation
----------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.946125"], ["updated_at", "2021-12-25 20:18:58.946125"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------
UserTest: test_valid_user
-------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.955988"], ["updated_at", "2021-12-25 20:18:58.955988"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190981], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:58.970598"], ["updated_at", "2021-12-25 20:18:58.970598"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 7ms (ActiveRecord: 0.6ms | Allocations: 455)
Started GET "/en/users/980190982/edit" for 127.0.0.1 at 2021-12-25 23:18:58 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190982"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1788)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 10140)
Completed 200 OK in 27ms (Views: 20.6ms | ActiveRecord: 1.3ms | Allocations: 11910)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:59.031522"], ["updated_at", "2021-12-25 20:18:59.031522"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 6ms (ActiveRecord: 0.5ms | Allocations: 455)
Started GET "/en/users" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by UsersController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1224)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 9327)
Completed 200 OK in 22ms (Views: 18.0ms | ActiveRecord: 1.1ms | Allocations: 10029)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:59.080096"], ["updated_at", "2021-12-25 20:18:59.080096"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 403)
Started GET "/en/users/980190984" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by UsersController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190984"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190984]]
  Rendered users/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 834)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 8976)
Completed 200 OK in 24ms (Views: 19.1ms | ActiveRecord: 1.4ms | Allocations: 9711)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:59.133378"], ["updated_at", "2021-12-25 20:18:59.133378"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 403)
Started PATCH "/en/users/980190985" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en", "id"=>"980190985"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190985], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2021-12-25 20:18:59.158691"], ["id", 980190985]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190985
Completed 302 Found in 14ms (ActiveRecord: 3.4ms | Allocations: 1451)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:59.172298"], ["updated_at", "2021-12-25 20:18:59.172298"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 403)
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/en/users" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "user"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:59.197954"], ["updated_at", "2021-12-25 20:18:59.197954"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190987
Completed 302 Found in 12ms (ActiveRecord: 2.8ms | Allocations: 1253)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:59.211873"], ["updated_at", "2021-12-25 20:18:59.211873"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 403)
Started GET "/en/users/new" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by UsersController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1175)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190988], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 9456)
Completed 200 OK in 18ms (Views: 15.9ms | ActiveRecord: 0.5ms | Allocations: 9829)
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:59.254477"], ["updated_at", "2021-12-25 20:18:59.254477"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 7ms (ActiveRecord: 1.1ms | Allocations: 403)
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/en/users/980190989" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190989"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190989], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190989], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190989]]
  [1m[36mComment Load (0.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = $1[0m  [["user_id", 980190989]]
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = $1[0m  [["user_id", 980190989]]
  [1m[36mUser Destroy (1.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190989]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/login
Completed 302 Found in 19ms (ActiveRecord: 5.3ms | Allocations: 1890)
  [1m[36mUser Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:18:59.306079"], ["updated_at", "2021-12-25 20:18:59.306079"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 1.1ms | Allocations: 403)
Started GET "/en/users/298486374/edit" for 127.0.0.1 at 2021-12-25 23:18:59 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"298486374"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190990], ["LIMIT", 1]]
Redirected to http://www.example.com/en/users/298486374
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.0ms | Allocations: 603)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.8ms)[0m  [1m[35mALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "likes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "comments";
DELETE FROM "likes";
DELETE FROM "posts";
DELETE FROM "users";
INSERT INTO "comments" ("id", "body", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2021-12-25 20:38:10.546884', '2021-12-25 20:38:10.546884'), (298486374, 'MyText', 298486374, 298486374, '2021-12-25 20:38:10.546884', '2021-12-25 20:38:10.546884');
INSERT INTO "likes" ("id", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, '2021-12-25 20:38:10.559301', '2021-12-25 20:38:10.559301'), (298486374, 298486374, 298486374, '2021-12-25 20:38:10.559301', '2021-12-25 20:38:10.559301');
INSERT INTO "posts" ("id", "title", "body", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyText', 980190962, '2021-12-25 20:38:10.563395', '2021-12-25 20:38:10.563395'), (298486374, 'MyString', 'MyText', 298486374, '2021-12-25 20:38:10.563395', '2021-12-25 20:38:10.563395');
INSERT INTO "users" ("id", "name", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', '$2a$12$4vSSoL00sFHutcNNUCVnLeRnz3l2PEH1DIO1PHCvNTrd5.VvUdGv.', '2021-12-25 20:38:10.565600', '2021-12-25 20:38:10.565600'), (298486374, 'MyString1', '$2a$12$VlllrQdS1T39wB/MOzsas.vCyl0WYtiQ0RK.vQj2KmPabkbu7URt.', '2021-12-25 20:38:10.565600', '2021-12-25 20:38:10.565600')[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "likes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:10.757481"], ["updated_at", "2021-12-25 20:38:10.757481"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 15ms (ActiveRecord: 0.7ms | Allocations: 3963)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190963], ["created_at", "2021-12-25 20:38:10.899756"], ["updated_at", "2021-12-25 20:38:10.899756"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started DELETE "/en/posts/980190963" for 127.0.0.1 at 2021-12-25 23:38:10 +0300
Processing by PostsController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190963"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190963]]
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190963]]
  [1m[36mPost Destroy (0.9ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190963]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts
Completed 302 Found in 18ms (ActiveRecord: 3.7ms | Allocations: 4869)
  [1m[36mPost Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:10.941968"], ["updated_at", "2021-12-25 20:38:10.941968"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 488)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190964], ["created_at", "2021-12-25 20:38:10.952165"], ["updated_at", "2021-12-25 20:38:10.952165"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started POST "/en/posts" for 127.0.0.1 at 2021-12-25 23:38:10 +0300
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"body"=>"body", "title"=>"title"}, "locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (1.3ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "title"], ["body", "body"], ["user_id", 980190964], ["created_at", "2021-12-25 20:38:10.965755"], ["updated_at", "2021-12-25 20:38:10.965755"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190965
Completed 302 Found in 11ms (ActiveRecord: 3.6ms | Allocations: 1653)
  [1m[36mPost Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."title" = $1 LIMIT $2[0m  [["title", "title"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:10.985843"], ["updated_at", "2021-12-25 20:38:10.985843"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 409)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mPost Create (1.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190965], ["created_at", "2021-12-25 20:38:10.996482"], ["updated_at", "2021-12-25 20:38:10.996482"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190966/edit" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190966"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 8.0ms | Allocations: 2611)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 216.9ms | Allocations: 92918)
Completed 200 OK in 229ms (Views: 221.8ms | ActiveRecord: 0.8ms | Allocations: 96683)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.238875"], ["updated_at", "2021-12-25 20:38:11.238875"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 461)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190966], ["created_at", "2021-12-25 20:38:11.274704"], ["updated_at", "2021-12-25 20:38:11.274704"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/new" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by PostsController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 948)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 28.2ms | Allocations: 9050)
Completed 200 OK in 33ms (Views: 28.9ms | ActiveRecord: 0.4ms | Allocations: 9750)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.335414"], ["updated_at", "2021-12-25 20:38:11.335414"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190967], ["created_at", "2021-12-25 20:38:11.412409"], ["updated_at", "2021-12-25 20:38:11.412409"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190968" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by PostsController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190968"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  [1m[36mLike Load (0.5ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190968]]
  [1m[36mLike Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190968]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered likes/_likes.html.erb (Duration: 6.1ms | Allocations: 893)
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190968]]
  Rendered comments/_comments.html.erb (Duration: 2.7ms | Allocations: 527)
  Rendered posts/show.html.erb within layouts/application (Duration: 24.8ms | Allocations: 8014)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 32.0ms | Allocations: 16245)
Completed 200 OK in 37ms (Views: 30.1ms | ActiveRecord: 3.4ms | Allocations: 17167)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PostsControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.461955"], ["updated_at", "2021-12-25 20:38:11.461955"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 455)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190968], ["created_at", "2021-12-25 20:38:11.471940"], ["updated_at", "2021-12-25 20:38:11.471940"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190962/edit" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190962"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts/980190962
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.9ms | Allocations: 845)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.488818"], ["updated_at", "2021-12-25 20:38:11.488818"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190969], ["created_at", "2021-12-25 20:38:11.502127"], ["updated_at", "2021-12-25 20:38:11.502127"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/en/posts/980190970" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"body"=>"Rururu", "title"=>"Ilya1312"}, "locale"=>"en", "id"=>"980190970"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (0.6ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["title", "Ilya1312"], ["updated_at", "2021-12-25 20:38:11.512329"], ["id", 980190970]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190970
Completed 302 Found in 8ms (ActiveRecord: 1.8ms | Allocations: 1688)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.522134"], ["updated_at", "2021-12-25 20:38:11.522134"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mPost Create (0.5ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190970], ["created_at", "2021-12-25 20:38:11.533220"], ["updated_at", "2021-12-25 20:38:11.533220"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by PostsController#index as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendered posts/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1218)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 9468)
Completed 200 OK in 19ms (Views: 15.0ms | ActiveRecord: 1.7ms | Allocations: 9866)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.565233"], ["updated_at", "2021-12-25 20:38:11.565233"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 403)
Started GET "/en/users" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by UsersController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 1484)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 9751)
Completed 200 OK in 20ms (Views: 15.9ms | ActiveRecord: 1.1ms | Allocations: 11253)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.606958"], ["updated_at", "2021-12-25 20:38:11.606958"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 452)
Started PATCH "/en/users/980190972" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en", "id"=>"980190972"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190972], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2021-12-25 20:38:11.627802"], ["id", 980190972]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190972
Completed 302 Found in 10ms (ActiveRecord: 2.7ms | Allocations: 1602)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (3.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.637307"], ["updated_at", "2021-12-25 20:38:11.637307"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 403)
Started GET "/en/users/980190973/edit" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190973"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1641)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 9922)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 0.8ms | Allocations: 10700)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.675620"], ["updated_at", "2021-12-25 20:38:11.675620"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 455)
Started GET "/en/users/980190974" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by UsersController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190974"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190974]]
  Rendered users/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 859)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 8981)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 1.2ms | Allocations: 9779)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.709688"], ["updated_at", "2021-12-25 20:38:11.709688"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/en/users/980190975" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190975"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190975]]
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = $1[0m  [["user_id", 980190975]]
  [1m[36mLike Load (0.3ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = $1[0m  [["user_id", 980190975]]
  [1m[36mUser Destroy (1.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190975]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/login
Completed 302 Found in 13ms (ActiveRecord: 3.7ms | Allocations: 1887)
  [1m[36mUser Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.749810"], ["updated_at", "2021-12-25 20:38:11.749810"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 403)
Started GET "/en/users/new" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by UsersController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1181)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190976], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 9462)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.4ms | Allocations: 9835)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.781199"], ["updated_at", "2021-12-25 20:38:11.781199"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 403)
Started GET "/en/users/298486374/edit" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"298486374"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190977], ["LIMIT", 1]]
Redirected to http://www.example.com/en/users/298486374
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.9ms | Allocations: 618)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.805570"], ["updated_at", "2021-12-25 20:38:11.805570"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/en/users" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "user"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.824949"], ["updated_at", "2021-12-25 20:38:11.824949"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190979
Completed 302 Found in 10ms (ActiveRecord: 2.7ms | Allocations: 1260)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.838179"], ["updated_at", "2021-12-25 20:38:11.838179"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/new" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 867)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 8915)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms | Allocations: 9916)
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.864945"], ["updated_at", "2021-12-25 20:38:11.864945"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 470)
Started GET "/en/sessions/destroy" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#destroy as HTML
  Parameters: {"locale"=>"en"}
Redirected to http://www.example.com/en/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 364)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.883039"], ["updated_at", "2021-12-25 20:38:11.883039"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Ilya_the_best&password=[FILTERED]" for 127.0.0.1 at 2021-12-25 23:38:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Ilya_the_best", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 403)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
PostTest: test_invalid_without_user_id
--------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.899774"], ["updated_at", "2021-12-25 20:38:11.899774"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mPost Create (1.2ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190983], ["created_at", "2021-12-25 20:38:11.903989"], ["updated_at", "2021-12-25 20:38:11.903989"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
PostTest: test_valid_really_post
--------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.913437"], ["updated_at", "2021-12-25 20:38:11.913437"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190984], ["created_at", "2021-12-25 20:38:11.918812"], ["updated_at", "2021-12-25 20:38:11.918812"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------
PostTest: test_invalid_without_title
------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.927334"], ["updated_at", "2021-12-25 20:38:11.927334"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190985], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190985], ["created_at", "2021-12-25 20:38:11.932243"], ["updated_at", "2021-12-25 20:38:11.932243"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostTest: test_valid_really_without_body
----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.940678"], ["updated_at", "2021-12-25 20:38:11.940678"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  [1m[36mPost Create (0.5ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Ilya_the_best"], ["body", "Rururu"], ["user_id", 980190986], ["created_at", "2021-12-25 20:38:11.945352"], ["updated_at", "2021-12-25 20:38:11.945352"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
UserTest: test_invalid_without_name
-----------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.952594"], ["updated_at", "2021-12-25 20:38:11.952594"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" IS NULL AND "users"."id" != $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------
UserTest: test_valid_user
-------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.965672"], ["updated_at", "2021-12-25 20:38:11.965672"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190988], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_invalid_without_password_confirmation
----------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.974180"], ["updated_at", "2021-12-25 20:38:11.974180"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
UserTest: test_invalid_without_password
---------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Ilya_the_best"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ilya_the_best"], ["password_digest", "[FILTERED]"], ["created_at", "2021-12-25 20:38:11.980419"], ["updated_at", "2021-12-25 20:38:11.980419"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Ilya_the_best"], ["id", 980190990], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (2.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "likes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.9ms)[0m  [1m[31mDELETE FROM "comments";
DELETE FROM "likes";
DELETE FROM "posts";
DELETE FROM "users";
INSERT INTO "comments" ("id", "body", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2022-01-10 14:43:53.276244', '2022-01-10 14:43:53.276244'), (298486374, 'MyText', 298486374, 298486374, '2022-01-10 14:43:53.276244', '2022-01-10 14:43:53.276244');
INSERT INTO "likes" ("id", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, '2022-01-10 14:43:53.313035', '2022-01-10 14:43:53.313035'), (298486374, 298486374, 298486374, '2022-01-10 14:43:53.313035', '2022-01-10 14:43:53.313035');
INSERT INTO "posts" ("id", "title", "body", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyText', 980190962, '2022-01-10 14:43:53.318558', '2022-01-10 14:43:53.318558'), (298486374, 'MyString', 'MyText', 298486374, '2022-01-10 14:43:53.318558', '2022-01-10 14:43:53.318558');
INSERT INTO "users" ("id", "name", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', '$2a$12$suO.gQB5bQDP/WtOFR/XOevjVbmf/khq5hXGmS5iCGJK.T2QKwMVC', '2022-01-10 14:43:53.321421', '2022-01-10 14:43:53.321421'), (298486374, 'MyString1', '$2a$12$nZoNRHKBVDceZRuLEr1F9e.79iDZPZHt9E35bRPoRvFcPayKr3TdK', '2022-01-10 14:43:53.321421', '2022-01-10 14:43:53.321421')[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "likes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (33.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:53.679073"], ["updated_at", "2022-01-10 14:43:53.679073"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:53 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 19ms (ActiveRecord: 0.8ms | Allocations: 3964)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:53.904336"], ["updated_at", "2022-01-10 14:43:53.904336"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/new" for 127.0.0.1 at 2022-01-10 17:43:53 +0300
Processing by SessionsController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1388)
  Rendered layout layouts/application.html.erb (Duration: 316.6ms | Allocations: 91374)
Completed 200 OK in 330ms (Views: 323.3ms | ActiveRecord: 0.0ms | Allocations: 94738)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:54.254816"], ["updated_at", "2022-01-10 14:43:54.254816"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 474)
Started GET "/en/sessions/destroy" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by SessionsController#destroy as HTML
  Parameters: {"locale"=>"en"}
Redirected to http://www.example.com/en/login
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 382)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:54.287004"], ["updated_at", "2022-01-10 14:43:54.287004"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 403)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mPost Create (1.3ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190966], ["created_at", "2022-01-10 14:43:54.318014"], ["updated_at", "2022-01-10 14:43:54.318014"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (3.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started POST "/en/posts" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"body"=>"body", "title"=>"title"}, "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "title"], ["body", "body"], ["user_id", 980190966], ["created_at", "2022-01-10 14:43:54.349492"], ["updated_at", "2022-01-10 14:43:54.349492"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190964
Completed 302 Found in 10ms (ActiveRecord: 1.9ms | Allocations: 1947)
  [1m[36mPost Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."title" = $1 LIMIT $2[0m  [["title", "title"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:54.383711"], ["updated_at", "2022-01-10 14:43:54.383711"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 409)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190967], ["created_at", "2022-01-10 14:43:54.397258"], ["updated_at", "2022-01-10 14:43:54.397258"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started DELETE "/en/posts/980190965" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by PostsController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190965"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190965]]
  [1m[36mLike Load (0.6ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190965]]
  [1m[36mPost Destroy (1.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190965]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts
Completed 302 Found in 55ms (ActiveRecord: 4.3ms | Allocations: 4354)
  [1m[36mPost Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:54.512146"], ["updated_at", "2022-01-10 14:43:54.512146"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 8ms (ActiveRecord: 1.7ms | Allocations: 459)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mPost Create (1.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190968], ["created_at", "2022-01-10 14:43:54.537948"], ["updated_at", "2022-01-10 14:43:54.537948"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190966" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by PostsController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190966"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  [1m[36mLike Load (0.9ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190966]]
  [1m[36mLike Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190966]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered likes/_likes.html.erb (Duration: 6.8ms | Allocations: 896)
  [1m[36mComment Load (0.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190966]]
  Rendered comments/_comments.html.erb (Duration: 3.0ms | Allocations: 527)
  Rendered posts/show.html.erb within layouts/application (Duration: 142.5ms | Allocations: 8413)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 154.8ms | Allocations: 16792)
Completed 200 OK in 169ms (Views: 157.8ms | ActiveRecord: 3.9ms | Allocations: 18314)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:54.732382"], ["updated_at", "2022-01-10 14:43:54.732382"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 7ms (ActiveRecord: 1.0ms | Allocations: 455)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mPost Create (1.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190969], ["created_at", "2022-01-10 14:43:54.752113"], ["updated_at", "2022-01-10 14:43:54.752113"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (1.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190967/edit" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190967"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1953)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 10227)
Completed 200 OK in 27ms (Views: 22.4ms | ActiveRecord: 1.0ms | Allocations: 11203)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:54.801616"], ["updated_at", "2022-01-10 14:43:54.801616"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 461)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mPost Create (1.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190970], ["created_at", "2022-01-10 14:43:54.814817"], ["updated_at", "2022-01-10 14:43:54.814817"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/new" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by PostsController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 973)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 9080)
Completed 200 OK in 24ms (Views: 18.6ms | ActiveRecord: 0.6ms | Allocations: 9773)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PostsControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:54.860987"], ["updated_at", "2022-01-10 14:43:54.860987"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mPost Create (1.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190971], ["created_at", "2022-01-10 14:43:54.874988"], ["updated_at", "2022-01-10 14:43:54.874988"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190962/edit" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190962"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts/980190962
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 2.9ms | Allocations: 825)
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:54.911321"], ["updated_at", "2022-01-10 14:43:54.911321"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mPost Create (0.9ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190972], ["created_at", "2022-01-10 14:43:54.927999"], ["updated_at", "2022-01-10 14:43:54.927999"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/en/posts/980190970" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"body"=>"Rururu", "title"=>"Ilya1312"}, "locale"=>"en", "id"=>"980190970"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mCACHE Post Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (1.2ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["title", "Ilya1312"], ["updated_at", "2022-01-10 14:43:54.943875"], ["id", 980190970]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190970
Completed 302 Found in 15ms (ActiveRecord: 3.4ms | Allocations: 1685)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:54.968047"], ["updated_at", "2022-01-10 14:43:54.968047"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 6ms (ActiveRecord: 0.7ms | Allocations: 403)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mPost Create (2.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190973], ["created_at", "2022-01-10 14:43:54.987647"], ["updated_at", "2022-01-10 14:43:54.987647"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts" for 127.0.0.1 at 2022-01-10 17:43:54 +0300
Processing by PostsController#index as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  Rendered posts/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 1218)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 9481)
Completed 200 OK in 20ms (Views: 16.6ms | ActiveRecord: 2.4ms | Allocations: 9852)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
UserTest: test_invalid_without_name
-----------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.037952"], ["updated_at", "2022-01-10 14:43:55.037952"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" IS NULL AND "users"."id" != $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
UserTest: test_invalid_without_password
---------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.055588"], ["updated_at", "2022-01-10 14:43:55.055588"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Igor_Labekin"], ["id", 980190975], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_invalid_without_password_confirmation
----------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.070792"], ["updated_at", "2022-01-10 14:43:55.070792"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-------------------------
UserTest: test_valid_user
-------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.080428"], ["updated_at", "2022-01-10 14:43:55.080428"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Igor_Labekin"], ["id", 980190977], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------
PostTest: test_invalid_without_title
------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.096199"], ["updated_at", "2022-01-10 14:43:55.096199"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190978], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190978], ["created_at", "2022-01-10 14:43:55.102021"], ["updated_at", "2022-01-10 14:43:55.102021"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
PostTest: test_invalid_without_user_id
--------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.116074"], ["updated_at", "2022-01-10 14:43:55.116074"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  [1m[36mPost Create (0.9ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190979], ["created_at", "2022-01-10 14:43:55.121312"], ["updated_at", "2022-01-10 14:43:55.121312"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
--------------------------------
PostTest: test_valid_really_post
--------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.152064"], ["updated_at", "2022-01-10 14:43:55.152064"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190980], ["created_at", "2022-01-10 14:43:55.164506"], ["updated_at", "2022-01-10 14:43:55.164506"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostTest: test_valid_really_without_body
----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.172893"], ["updated_at", "2022-01-10 14:43:55.172893"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190981], ["created_at", "2022-01-10 14:43:55.182883"], ["updated_at", "2022-01-10 14:43:55.182883"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.194459"], ["updated_at", "2022-01-10 14:43:55.194459"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 8ms (ActiveRecord: 1.1ms | Allocations: 403)
Started GET "/en/users/980190982/edit" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190982"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1788)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 10140)
Completed 200 OK in 29ms (Views: 21.5ms | ActiveRecord: 1.1ms | Allocations: 11921)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.262611"], ["updated_at", "2022-01-10 14:43:55.262611"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 455)
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/en/users/980190983" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190983"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190983]]
  [1m[36mComment Load (0.8ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = $1[0m  [["user_id", 980190983]]
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = $1[0m  [["user_id", 980190983]]
  [1m[36mUser Destroy (1.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190983]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/login
Completed 302 Found in 20ms (ActiveRecord: 5.2ms | Allocations: 2243)
  [1m[36mUser Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.317639"], ["updated_at", "2022-01-10 14:43:55.317639"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 403)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/en/users" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "user"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.344472"], ["updated_at", "2022-01-10 14:43:55.344472"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190985
Completed 302 Found in 13ms (ActiveRecord: 3.5ms | Allocations: 1301)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.363900"], ["updated_at", "2022-01-10 14:43:55.363900"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 6ms (ActiveRecord: 0.8ms | Allocations: 403)
Started GET "/en/users" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by UsersController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1220)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 9366)
Completed 200 OK in 22ms (Views: 18.6ms | ActiveRecord: 1.3ms | Allocations: 10043)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.414288"], ["updated_at", "2022-01-10 14:43:55.414288"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 403)
Started GET "/en/users/new" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by UsersController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 8.5ms | Allocations: 1175)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 20.4ms | Allocations: 9456)
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.5ms | Allocations: 9829)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.466608"], ["updated_at", "2022-01-10 14:43:55.466608"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
Started GET "/en/users/980190988" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by UsersController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190988"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190988], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190988], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190988]]
  Rendered users/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 524)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190988], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 8645)
Completed 200 OK in 24ms (Views: 16.4ms | ActiveRecord: 2.3ms | Allocations: 9375)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.522973"], ["updated_at", "2022-01-10 14:43:55.522973"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
Started PATCH "/en/users/980190989" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en", "id"=>"980190989"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190989], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190989], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Igor_Labekin"], ["id", 980190989], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2022-01-10 14:43:55.553380"], ["id", 980190989]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190989
Completed 302 Found in 13ms (ActiveRecord: 3.1ms | Allocations: 1391)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:43:55.578975"], ["updated_at", "2022-01-10 14:43:55.578975"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 403)
Started GET "/en/users/298486374/edit" for 127.0.0.1 at 2022-01-10 17:43:55 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"298486374"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190990], ["LIMIT", 1]]
Redirected to http://www.example.com/en/users/298486374
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 614)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "likes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[31mDELETE FROM "comments";
DELETE FROM "likes";
DELETE FROM "posts";
DELETE FROM "users";
INSERT INTO "comments" ("id", "body", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2022-01-10 14:45:09.340937', '2022-01-10 14:45:09.340937'), (298486374, 'MyText', 298486374, 298486374, '2022-01-10 14:45:09.340937', '2022-01-10 14:45:09.340937');
INSERT INTO "likes" ("id", "user_id", "post_id", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, '2022-01-10 14:45:09.356824', '2022-01-10 14:45:09.356824'), (298486374, 298486374, 298486374, '2022-01-10 14:45:09.356824', '2022-01-10 14:45:09.356824');
INSERT INTO "posts" ("id", "title", "body", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyText', 980190962, '2022-01-10 14:45:09.369808', '2022-01-10 14:45:09.369808'), (298486374, 'MyString', 'MyText', 298486374, '2022-01-10 14:45:09.369808', '2022-01-10 14:45:09.369808');
INSERT INTO "users" ("id", "name", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', '$2a$12$wv6WzvIqc54P/N1xZOa7OOmGpakFhYyzHgMXToQ1w2BdVHGD6oPpS', '2022-01-10 14:45:09.373957', '2022-01-10 14:45:09.373957'), (298486374, 'MyString1', '$2a$12$htwdycJ5EU9y7sPy3AM5WulcDl..G5fL4mI32XJlKPOLdNMChWCuS', '2022-01-10 14:45:09.373957', '2022-01-10 14:45:09.373957')[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "likes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I''; ALTER TABLE %I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:09.673113"], ["updated_at", "2022-01-10 14:45:09.673113"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:09 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 19ms (ActiveRecord: 0.3ms | Allocations: 3868)
Started GET "/en/users/new" for 127.0.0.1 at 2022-01-10 17:45:09 +0300
Processing by UsersController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 23.2ms | Allocations: 3060)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 299.5ms | Allocations: 94236)
Completed 200 OK in 315ms (Views: 304.9ms | ActiveRecord: 0.7ms | Allocations: 97607)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:10.243701"], ["updated_at", "2022-01-10 14:45:10.243701"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 486)
Started GET "/en/users/980190964/edit" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190964"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/edit.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1404)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 9577)
Completed 200 OK in 28ms (Views: 21.8ms | ActiveRecord: 1.7ms | Allocations: 10515)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:10.296389"], ["updated_at", "2022-01-10 14:45:10.296389"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
Started PATCH "/en/users/980190965" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en", "id"=>"980190965"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Igor_Labekin"], ["id", 980190965], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2022-01-10 14:45:10.336432"], ["id", 980190965]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190965
Completed 302 Found in 19ms (ActiveRecord: 5.4ms | Allocations: 2001)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:10.353490"], ["updated_at", "2022-01-10 14:45:10.353490"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 409)
  [1m[36mUser Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/en/users/980190966" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190966"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190966]]
  [1m[36mComment Load (0.9ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = $1[0m  [["user_id", 980190966]]
  [1m[36mLike Load (1.1ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."user_id" = $1[0m  [["user_id", 980190966]]
  [1m[36mUser Destroy (2.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190966]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/login
Completed 302 Found in 82ms (ActiveRecord: 9.4ms | Allocations: 6583)
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:10.470010"], ["updated_at", "2022-01-10 14:45:10.470010"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 6ms (ActiveRecord: 0.7ms | Allocations: 458)
  [1m[36mUser Count (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/en/users" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"user", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "user"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:10.516975"], ["updated_at", "2022-01-10 14:45:10.516975"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/users/980190968
Completed 302 Found in 17ms (ActiveRecord: 3.5ms | Allocations: 1566)
  [1m[36mUser Count (3.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:10.544368"], ["updated_at", "2022-01-10 14:45:10.544368"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 31ms (ActiveRecord: 0.7ms | Allocations: 436)
Started GET "/en/users" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by UsersController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.erb within layouts/application (Duration: 94.2ms | Allocations: 1294)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 106.6ms | Allocations: 9505)
Completed 200 OK in 111ms (Views: 107.0ms | ActiveRecord: 1.0ms | Allocations: 10216)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (4.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:10.729601"], ["updated_at", "2022-01-10 14:45:10.729601"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 403)
Started GET "/en/users/298486374/edit" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by UsersController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"298486374"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
Redirected to http://www.example.com/en/users/298486374
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.2ms | Allocations: 621)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:10.787309"], ["updated_at", "2022-01-10 14:45:10.787309"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 403)
Started GET "/en/users/980190971" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by UsersController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190971"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 980190971]]
  Rendered users/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 553)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 8679)
Completed 200 OK in 25ms (Views: 16.5ms | ActiveRecord: 2.7ms | Allocations: 9405)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostTest: test_valid_really_without_body
----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:10.846573"], ["updated_at", "2022-01-10 14:45:10.846573"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mPost Create (2.2ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190972], ["created_at", "2022-01-10 14:45:10.864536"], ["updated_at", "2022-01-10 14:45:10.864536"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------
PostTest: test_invalid_without_title
------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:10.877733"], ["updated_at", "2022-01-10 14:45:10.877733"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190973], ["created_at", "2022-01-10 14:45:10.885195"], ["updated_at", "2022-01-10 14:45:10.885195"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------
PostTest: test_valid_really_post
--------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:10.895180"], ["updated_at", "2022-01-10 14:45:10.895180"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mPost Create (1.4ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190974], ["created_at", "2022-01-10 14:45:10.905677"], ["updated_at", "2022-01-10 14:45:10.905677"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
PostTest: test_invalid_without_user_id
--------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:10.920026"], ["updated_at", "2022-01-10 14:45:10.920026"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  [1m[36mPost Create (0.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190975], ["created_at", "2022-01-10 14:45:10.925019"], ["updated_at", "2022-01-10 14:45:10.925019"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:10.940764"], ["updated_at", "2022-01-10 14:45:10.940764"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 482)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190976], ["LIMIT", 1]]
  [1m[36mPost Create (1.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190976], ["created_at", "2022-01-10 14:45:10.958188"], ["updated_at", "2022-01-10 14:45:10.958188"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (2.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/new" for 127.0.0.1 at 2022-01-10 17:45:10 +0300
Processing by PostsController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190976], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1256)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190976], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 9568)
Completed 200 OK in 24ms (Views: 20.6ms | ActiveRecord: 0.5ms | Allocations: 11070)
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.026550"], ["updated_at", "2022-01-10 14:45:11.026550"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 458)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190977], ["LIMIT", 1]]
  [1m[36mPost Create (0.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190977], ["created_at", "2022-01-10 14:45:11.041761"], ["updated_at", "2022-01-10 14:45:11.041761"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by PostsController#index as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190977], ["LIMIT", 1]]
  Rendered posts/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 1245)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190977], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 9510)
Completed 200 OK in 26ms (Views: 22.4ms | ActiveRecord: 1.8ms | Allocations: 9911)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.084572"], ["updated_at", "2022-01-10 14:45:11.084572"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190978], ["LIMIT", 1]]
  [1m[36mPost Create (1.2ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190978], ["created_at", "2022-01-10 14:45:11.098268"], ["updated_at", "2022-01-10 14:45:11.098268"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started POST "/en/posts" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"body"=>"body", "title"=>"title"}, "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190978], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190978], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "title"], ["body", "body"], ["user_id", 980190978], ["created_at", "2022-01-10 14:45:11.120330"], ["updated_at", "2022-01-10 14:45:11.120330"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190970
Completed 302 Found in 14ms (ActiveRecord: 2.0ms | Allocations: 1289)
  [1m[36mPost Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."title" = $1 LIMIT $2[0m  [["title", "title"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.138046"], ["updated_at", "2022-01-10 14:45:11.138046"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 6ms (ActiveRecord: 0.6ms | Allocations: 403)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  [1m[36mPost Create (1.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190979], ["created_at", "2022-01-10 14:45:11.155943"], ["updated_at", "2022-01-10 14:45:11.155943"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (2.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190971/edit" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190971"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 4.4ms | Allocations: 966)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 9075)
Completed 200 OK in 19ms (Views: 13.4ms | ActiveRecord: 1.2ms | Allocations: 10081)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PostsControllerTest: test_should_not_permit
-------------------------------------------
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.201157"], ["updated_at", "2022-01-10 14:45:11.201157"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 403)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190980], ["created_at", "2022-01-10 14:45:11.221871"], ["updated_at", "2022-01-10 14:45:11.221871"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190962/edit" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by PostsController#edit as HTML
  Parameters: {"locale"=>"en", "id"=>"980190962"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts/980190962
Filter chain halted as :permit rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 1.7ms | Allocations: 811)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.248905"], ["updated_at", "2022-01-10 14:45:11.248905"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  [1m[36mPost Create (2.2ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190981], ["created_at", "2022-01-10 14:45:11.264852"], ["updated_at", "2022-01-10 14:45:11.264852"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/en/posts/980190973" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by PostsController#show as HTML
  Parameters: {"locale"=>"en", "id"=>"980190973"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  [1m[36mLike Load (0.4ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190973]]
  [1m[36mLike Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190973]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendered likes/_likes.html.erb (Duration: 5.1ms | Allocations: 875)
  [1m[36mComment Load (1.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190973]]
  Rendered comments/_comments.html.erb (Duration: 6.4ms | Allocations: 756)
  Rendered posts/show.html.erb within layouts/application (Duration: 32.8ms | Allocations: 8380)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  Rendered layout layouts/application.html.erb (Duration: 46.2ms | Allocations: 16597)
Completed 200 OK in 52ms (Views: 44.0ms | ActiveRecord: 4.2ms | Allocations: 17504)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.344957"], ["updated_at", "2022-01-10 14:45:11.344957"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 455)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mPost Create (1.2ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190982], ["created_at", "2022-01-10 14:45:11.361503"], ["updated_at", "2022-01-10 14:45:11.361503"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/en/posts/980190974" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"body"=>"Rururu", "title"=>"Ilya1312"}, "locale"=>"en", "id"=>"980190974"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mPost Load (1.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mCACHE Post Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190974], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (0.8ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["title", "Ilya1312"], ["updated_at", "2022-01-10 14:45:11.388283"], ["id", 980190974]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts/980190974
Completed 302 Found in 20ms (ActiveRecord: 4.5ms | Allocations: 1601)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.402380"], ["updated_at", "2022-01-10 14:45:11.402380"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (7.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "body", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Igor_Labekin"], ["body", "Rururu"], ["user_id", 980190983], ["created_at", "2022-01-10 14:45:11.441507"], ["updated_at", "2022-01-10 14:45:11.441507"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started DELETE "/en/posts/980190975" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by PostsController#destroy as HTML
  Parameters: {"locale"=>"en", "id"=>"980190975"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190975]]
  [1m[36mLike Load (0.7ms)[0m  [1m[34mSELECT "likes".* FROM "likes" WHERE "likes"."post_id" = $1[0m  [["post_id", 980190975]]
  [1m[36mPost Destroy (0.8ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190975]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/en/posts
Completed 302 Found in 13ms (ActiveRecord: 3.6ms | Allocations: 1415)
  [1m[36mPost Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
UserTest: test_invalid_without_password
---------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.476814"], ["updated_at", "2022-01-10 14:45:11.476814"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Igor_Labekin"], ["id", 980190984], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------
UserTest: test_valid_user
-------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.494361"], ["updated_at", "2022-01-10 14:45:11.494361"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["name", "Igor_Labekin"], ["id", 980190985], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_invalid_without_password_confirmation
----------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.507464"], ["updated_at", "2022-01-10 14:45:11.507464"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
UserTest: test_invalid_without_name
-----------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.518027"], ["updated_at", "2022-01-10 14:45:11.518027"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" IS NULL AND "users"."id" != $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.540358"], ["updated_at", "2022-01-10 14:45:11.540358"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 6ms (ActiveRecord: 0.6ms | Allocations: 403)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.559634"], ["updated_at", "2022-01-10 14:45:11.559634"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/create?name=Igor_Labekin&password=[FILTERED]" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"name"=>"Igor_Labekin", "password"=>"[FILTERED]", "locale"=>"en"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
Redirected to http://www.example.com/en/posts
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 403)
Started GET "/en/sessions/destroy" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by SessionsController#destroy as HTML
  Parameters: {"locale"=>"en"}
Redirected to http://www.example.com/en/login
Completed 302 Found in 6ms (ActiveRecord: 0.0ms | Allocations: 369)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Igor_Labekin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Igor_Labekin"], ["password_digest", "[FILTERED]"], ["created_at", "2022-01-10 14:45:11.594356"], ["updated_at", "2022-01-10 14:45:11.594356"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/en/sessions/new" for 127.0.0.1 at 2022-01-10 17:45:11 +0300
Processing by SessionsController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 867)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 8911)
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.0ms | Allocations: 9928)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
